"use strict";var Utils={loadOnVisible:[],loadScript:{loadCount:0,callback:null,loaded:null},loadScriptAdvanced:{},firstTimeLoad:!0,timeDiffWithServerInMillis:0,playerScriptLoaded:!1,loadScripts:function(scriptsArray,options){var uniqueKey=(new Date).getTime().toString(),initialOptions={loadCount:0,errorOccurred:!1};Utils.loadScriptAdvanced._loaded=function(e,key){Utils.loadScriptAdvanced[key]&&(Utils.loadScriptAdvanced[key].loadCount||0===Utils.loadScriptAdvanced[key].loadCount)&&(Utils.loadScriptAdvanced[key].loadCount++,Utils.loadScriptAdvanced._callCallback(key))},Utils.loadScriptAdvanced._callCallback=function(key){Utils.loadScriptAdvanced[key]&&Utils.loadScriptAdvanced[key].loadCount===Utils.loadScriptAdvanced[key].totalRequired&&"function"==typeof Utils.loadScriptAdvanced[key].callback&&!Utils.loadScriptAdvanced[key].errorOccurred&&(Utils.loadScriptAdvanced[key].callback.call(),delete Utils.loadScriptAdvanced[key])},Utils.loadScriptAdvanced._error=function(key){Utils.loadScriptAdvanced[key]&&(Utils.loadScriptAdvanced[key].errorOccurred||(Utils.loadScriptAdvanced[key].errorOccurred=!0,"function"==typeof Utils.loadScriptAdvanced[key].callback&&Utils.loadScriptAdvanced[key].callback.call(this,"Error Occurred"),delete Utils.loadScriptAdvanced[key]))},Utils.loadScriptAdvanced[uniqueKey]=initialOptions;for(var i=0;i<scriptsArray.length;i++)scriptsArray[i]||(scriptsArray.splice(i,1),i--);Utils.loadScriptAdvanced[uniqueKey].totalRequired=scriptsArray.length,Utils.loadScriptAdvanced[uniqueKey].callback=options.callback;var require=function(scriptsArray,uniqueKey){for(var i=0;i<scriptsArray.length;i++)scriptsArray[i]&&writeScript(scriptsArray[i],uniqueKey)},writeScript=function(src,key){var type="js";src.lastIndexOf(".css")===src.length-4&&(type="css");var s;"js"===type?(s=document.createElement("script"),s.type="text/javascript",options.noAsync||(s.defer=!0),s.src=src+(options.version?(src.indexOf("?")>-1?"&":"?")+"version="+options.version:""),s.setAttribute("data-key",key)):(src+=options.version?(src.indexOf("?")>-1?"&":"?")+"version="+options.version:"",s=document.createElement("link"),s.setAttribute("rel","stylesheet"),s.setAttribute("type","text/css"),s.setAttribute("href",src),s.setAttribute("data-key",key),s.async=!0),s.onerror=function(){Utils.loadScriptAdvanced._error(this.getAttribute("data-key"))},s.addEventListener("load",function(e){Utils.loadScriptAdvanced._loaded(e,s.getAttribute("data-key"))},!1);var head=document.getElementsByTagName("head")[0];head.appendChild(s)};require(scriptsArray,uniqueKey)},loadScriptsSequence:function(scriptsArray,callback){var libs=scriptsArray,injectLibFromStack=function(){if(libs.length>0){var nextLib=libs.shift(),headTag=document.getElementsByTagName("head")[0],scriptTag=document.createElement("script");scriptTag.src=nextLib,scriptTag.onload=function(e){injectLibFromStack()},headTag.appendChild(scriptTag),console.log("injecting: "+nextLib)}else callback&&callback()};injectLibFromStack()},parseInt:function(input){try{return parseInt(input)}catch(err){return null}},convertDateFromGMTDate:function(date,considerTimeDiff,timezonediff){var d,offset=timezonediff?timezonediff:6e4*(new Date).getTimezoneOffset();return d=considerTimeDiff?new Date(date.getTime()-offset+this.timeDiffWithServerInMillis):new Date(date.getTime()-offset)},getStringFromDate:function(d,excludeTime){d.getTime()>0||(d=new Date);var hh=d.getHours();10>hh&&0!=(""+hh).indexOf("0")&&(hh="0"+hh);var mm=d.getMinutes();10>mm&&0!=(""+mm).indexOf("0")&&(mm="0"+mm);var ss=d.getSeconds();10>ss&&0!=(""+ss).indexOf("0")&&(ss="0"+ss),"0"==mm&&(mm="00"),"0"==ss&&(ss="00"),"0"==hh&&(hh="00");var month=this.parseInt(d.getMonth()+1);10>month&&0!=(""+month).indexOf("0")&&(month="0"+month);var year=d.getFullYear(),date=d.getDate();return 10>date&&0!=(""+date).indexOf("0")&&(date="0"+date),year+"/"+month+"/"+date+" "+hh+":"+mm+":"+ss},getStringFromDateHiphen:function(d,excludeTime){d.getTime()>0||(d=new Date);var hh=d.getHours();10>hh&&0!=(""+hh).indexOf("0")&&(hh="0"+hh);var mm=d.getMinutes();10>mm&&0!=(""+mm).indexOf("0")&&(mm="0"+mm);var ss=d.getSeconds();10>ss&&0!=(""+ss).indexOf("0")&&(ss="0"+ss),"0"==mm&&(mm="00"),"0"==ss&&(ss="00"),"0"==hh&&(hh="00");var month=this.parseInt(d.getMonth()+1);10>month&&0!=(""+month).indexOf("0")&&(month="0"+month);var year=d.getFullYear(),date=d.getDate();return 10>date&&0!=(""+date).indexOf("0")&&(date="0"+date),year+"-"+month+"-"+date+(excludeTime?"":" "+hh+":"+mm+":"+ss)},getDateFromString:function(dateString){var x=dateString.indexOf(".");x>-1&&(dateString=dateString.substring(0,x));var s=dateString.split("-").join("/");return new Date(s)},getCurrTimeMillisFromGMT:function(millis,considerTimeDiff,timezonDiff){return this.convertDateFromGMTDate(new Date(this.parseInt(millis)),considerTimeDiff,timezonDiff).getTime()},getFormatedDateString:function(dateObj,monthOnly,dateFormat){var month=({0:window.getTranslationValue("Sun"),1:window.getTranslationValue("Mon"),2:window.getTranslationValue("Tue"),3:window.getTranslationValue("Wed"),4:window.getTranslationValue("Thu"),5:window.getTranslationValue("Fri"),6:window.getTranslationValue("Sat")},{1:window.getTranslationValue("Jan"),2:window.getTranslationValue("Feb"),3:window.getTranslationValue("Mar"),4:window.getTranslationValue("Apr"),5:window.getTranslationValue("May"),6:window.getTranslationValue("June"),7:window.getTranslationValue("July"),8:window.getTranslationValue("Aug"),9:window.getTranslationValue("Sept"),10:window.getTranslationValue("Oct"),11:window.getTranslationValue("Nov"),12:window.getTranslationValue("Dec")}),nowDate=new Date,strDisplay="",date=(dateObj.getDay(),dateObj.getDate());nowDate.getDate(),nowDate.getDay();if(dateFormat){var ss=dateFormat;ss=monthOnly?"":ss.replace("dd",date).replace("mm",month[dateObj.getMonth()+1]).replace("yy",dateObj.getFullYear()),console.log("Formatted Date"),strDisplay=ss}else strDisplay=(monthOnly?"":date+" ")+month[dateObj.getMonth()+1]+" "+dateObj.getFullYear();return strDisplay},getDayName:function(dateObj){var days={0:window.getTranslationValue("Sun"),1:window.getTranslationValue("Mon"),2:window.getTranslationValue("Tue"),3:window.getTranslationValue("Wed"),4:window.getTranslationValue("Thu"),5:window.getTranslationValue("Fri"),6:window.getTranslationValue("Sat")};return days[dateObj.getDay()]},getMonthName:function(dateObj){var days={1:window.getTranslationValue("Jan"),2:window.getTranslationValue("Feb"),3:window.getTranslationValue("Mar"),4:window.getTranslationValue("Apr"),5:window.getTranslationValue("May"),6:window.getTranslationValue("June"),7:window.getTranslationValue("July"),8:window.getTranslationValue("Aug"),9:window.getTranslationValue("Sept"),10:window.getTranslationValue("Oct"),11:window.getTranslationValue("Nov"),12:window.getTranslationValue("Dec")};new Date;return days[dateObj.getMonth()]},getMonthYearName:function(dateObj){var days={1:window.getTranslationValue("Jan"),2:window.getTranslationValue("Feb"),3:window.getTranslationValue("Mar"),4:window.getTranslationValue("Apr"),5:window.getTranslationValue("May"),6:window.getTranslationValue("June"),7:window.getTranslationValue("July"),8:window.getTranslationValue("Aug"),9:window.getTranslationValue("Sept"),10:window.getTranslationValue("Oct"),11:window.getTranslationValue("Nov"),12:window.getTranslationValue("Dec")};new Date;return days[dateObj.getMonth()+1]+" "+dateObj.getFullYear()},getFormatedDayString:function(dateObj,dayOnly,monthOnly){var days={0:window.getTranslationValue("Sun"),1:window.getTranslationValue("Mon"),2:window.getTranslationValue("Tue"),3:window.getTranslationValue("Wed"),4:window.getTranslationValue("Thu"),5:window.getTranslationValue("Fri"),6:window.getTranslationValue("Sat")},month={1:window.getTranslationValue("Jan"),2:window.getTranslationValue("Feb"),3:window.getTranslationValue("Mar"),4:window.getTranslationValue("Apr"),5:window.getTranslationValue("May"),6:window.getTranslationValue("June"),7:window.getTranslationValue("July"),8:window.getTranslationValue("Aug"),9:window.getTranslationValue("Sept"),10:window.getTranslationValue("Oct"),11:window.getTranslationValue("Nov"),12:window.getTranslationValue("Dec")},nowDate=new Date,strDisplay="",date=(dateObj.getDay(),dateObj.getDate());nowDate.getDate(),nowDate.getDay();return strDisplay=(dayOnly?days[dateObj.getDay()]:", ")+strDisplay+", "+month[dateObj.getMonth()+1]+" "+(monthOnly?"":date+"")+", "+dateObj.getFullYear()},getFormatedDateStringMonthFirst:function(dateObj,time){var month=({0:window.getTranslationValue("Sun"),1:window.getTranslationValue("Mon"),2:window.getTranslationValue("Tue"),3:window.getTranslationValue("Wed"),4:window.getTranslationValue("Thu"),5:window.getTranslationValue("Fri"),6:window.getTranslationValue("Sat")},{1:window.getTranslationValue("Jan"),2:window.getTranslationValue("Feb"),3:window.getTranslationValue("Mar"),4:window.getTranslationValue("Apr"),5:window.getTranslationValue("May"),6:window.getTranslationValue("June"),7:window.getTranslationValue("July"),8:window.getTranslationValue("Aug"),9:window.getTranslationValue("Sept"),10:window.getTranslationValue("Oct"),11:window.getTranslationValue("Nov"),12:window.getTranslationValue("Dec")}),nowDate=new Date,strDisplay="",date=(dateObj.getDay(),dateObj.getDate());nowDate.getDate(),nowDate.getDay();return strDisplay=month[dateObj.getMonth()+1]+" "+date+", "+dateObj.getFullYear()+", "+time.toLowerCase()},getFormatedDateStringMonthFirstWithDay:function(dateObj){var days={0:window.getTranslationValue("Sun"),1:window.getTranslationValue("Mon"),2:window.getTranslationValue("Tue"),3:window.getTranslationValue("Wed"),4:window.getTranslationValue("Thu"),5:window.getTranslationValue("Fri"),6:window.getTranslationValue("Sat")},month={1:window.getTranslationValue("January"),2:window.getTranslationValue("February"),3:window.getTranslationValue("March"),4:window.getTranslationValue("April"),5:window.getTranslationValue("May"),6:window.getTranslationValue("June"),7:window.getTranslationValue("July"),8:window.getTranslationValue("August"),9:window.getTranslationValue("September"),10:window.getTranslationValue("October"),11:window.getTranslationValue("November"),12:window.getTranslationValue("December")},nowDate=new Date,strDisplay="",day=dateObj.getDay(),date=dateObj.getDate();nowDate.getDate(),nowDate.getDay();return strDisplay=days[day]+", "+month[dateObj.getMonth()+1]+" "+date+", "+dateObj.getFullYear()},getFormatedDateStringMonthFirstWithoutYear:function(dateObj,time){var month=({0:window.getTranslationValue("Sun"),1:window.getTranslationValue("Mon"),2:window.getTranslationValue("Tue"),3:window.getTranslationValue("Wed"),4:window.getTranslationValue("Thu"),5:window.getTranslationValue("Fri"),6:window.getTranslationValue("Sat")},{1:window.getTranslationValue("Jan"),2:window.getTranslationValue("Feb"),3:window.getTranslationValue("March"),4:window.getTranslationValue("April"),5:window.getTranslationValue("May"),6:window.getTranslationValue("Jun"),7:window.getTranslationValue("July"),8:window.getTranslationValue("Aug"),9:window.getTranslationValue("Sep"),10:window.getTranslationValue("Oct"),11:window.getTranslationValue("Nov"),12:window.getTranslationValue("Dec")}),nowDate=new Date,strDisplay="",date=(dateObj.getDay(),dateObj.getDate());nowDate.getDate(),nowDate.getDay();return strDisplay=month[dateObj.getMonth()+1]+" "+date+", "+time.toLowerCase()},_getFormattedTime:function(time,excludeSec,dateFormat){var timeA=time.split(":"),sec=this.parseInt(timeA[2]);10>sec&&(sec="0"+sec);var am_pm=" AM",hour=this.parseInt(timeA[0]),min=this.parseInt(timeA[1]);return hour>11&&(am_pm=" PM"),hour>12&&(hour-=12),0==hour&&(hour=12),10>min&&(min="0"+min),dateFormat&&dateFormat.indexOf("xx")<0&&(am_pm=""),excludeSec?hour+":"+min+am_pm:hour+":"+min+":"+sec+am_pm},getFormatedIMDateTimeFromMillis:function(millis,excludeSec,timeOnly,dateOnly,monthOnly,dayOnly,dateFormat,monthFirst,monthFirstWithTime,monthFirstWithoutYear){if(!millis||0==millis||"0"==millis)return"";var time="",dateString=this.getStringFromDate(new Date(millis));if(dateString.indexOf(" ")>-1&&(time=dateString.split(" ")[1],dateString=dateString.split(" ")[0]),dateString=this.getDateFromString(dateString,dateFormat),""!=time&&(time=this._getFormattedTime(time,excludeSec,dateFormat)),timeOnly)return time;if(dayOnly)return this.getFormatedDayString(new Date(millis),dayOnly,monthOnly);if(dateOnly){var result=this.getFormatedDateString(new Date(millis),!1,dateFormat);return dateFormat&&(result=result.replace("tt","").replace("xx","")),result}if(!monthFirstWithTime){var result=this.getFormatedDateString(new Date(millis),!1,dateFormat);return dateFormat?dateFormat.indexOf("tt")>-1&&result.indexOf("tt")>-1&&(result=result.replace("tt",time)):result=result+" "+time,result}result=this.getFormatedDateStringMonthFirstWithDay(new Date(millis))},encodeString:function(s){return s=encodeURIComponent(s),s=s.replace(/'/g,"%27")},convertTimeToLocalTime:function(data){var items=data?data.find(".convert-to-localtime"):$(".convert-to-localtime");if(window.ISTTimeZone)var setTimeInIst=window.ISTTimeZone;else var setTimeInIst=!1;for(var i=0;i<items.length;i++){var $e=$(items[i]),str=$e.attr("data-datestring"),strEnd=$e.attr("data-datestring-end"),timeOnly=$e.hasClass("time-only"),dateOnly=$e.hasClass("date-only"),useColon=$e.hasClass("use-colon"),monthFirst=$e.hasClass("month-first"),monthFirstWithTime=$e.hasClass("month-first-with-time"),monthFirstWithoutYear=$e.hasClass("month-first-without-year"),showAdSurationFor24HoursOnly=$e.hasClass("only-24-hours-as-duration"),timeAsDuration=$e.hasClass("time-as-duration"),timeAsRemaining=$e.hasClass("time-as-remaining"),dateFormat=$e.attr("data-format")||window.local_date_time_format;if(str){var time="";str.indexOf(" ")>-1&&(time=str.split(" ")[1]),""!=time&&(time=this._getFormattedTime(time,!0,dateFormat));var dateObj=Utils.getDateFromString(str);dateObj.setTimeInIst=setTimeInIst;var dateObjEnd;strEnd&&(dateObjEnd=Utils.getDateFromString(strEnd));var d;if(timeAsDuration){var t1=Utils.getCurrTimeMillisFromGMT(dateObj.getTime(),!1,dateObj.setTimeInIst?"-19800000":!1);d=Utils.convertTimeAsDuration(new Date(t1),dateObj.setTimeInIst?"-19800000":!1,timeOnly,dateOnly,showAdSurationFor24HoursOnly,dateFormat)}else if(timeAsRemaining){var t1=Utils.getCurrTimeMillisFromGMT(dateObj.getTime(),!1,dateObj.setTimeInIst?"-19800000":!1),t2=dateObjEnd?Utils.getCurrTimeMillisFromGMT(dateObjEnd.getTime(),!1,dateObj.setTimeInIst?"-19800000":!1):!1;d=Utils.convertTimeAsRemaining(new Date(t1),t2?new Date(t2):!1,dateObj.setTimeInIst?"-19800000":!1,dateFormat)}else if(monthFirst){var t1=Utils.getCurrTimeMillisFromGMT(dateObj.getTime(),!1,dateObj.setTimeInIst?"-19800000":!1),time="",dateString1=this.getStringFromDate(new Date(t1));dateString1.indexOf(" ")>-1&&(time=dateString1.split(" ")[1]),""!=time&&(time=this._getFormattedTime(time,!0,dateFormat)),d=Utils.getFormatedDateStringMonthFirst(new Date(t1),time)}else if(monthFirstWithTime){var t1=Utils.getCurrTimeMillisFromGMT(dateObj.getTime(),!1,dateObj.setTimeInIst?"-19800000":!1),time="",dateString1=this.getStringFromDate(new Date(t1));dateString1.indexOf(" ")>-1&&(time=dateString1.split(" ")[1]),""!=time&&(time=this._getFormattedTime(time,!0,dateFormat)),d=Utils.getFormatedDateStringMonthFirstWithDay(new Date(t1))}else if(monthFirstWithoutYear){var t1=Utils.getCurrTimeMillisFromGMT(dateObj.getTime(),!1,dateObj.setTimeInIst?"-19800000":!1),time="",dateString1=this.getStringFromDate(new Date(t1));dateString1.indexOf(" ")>-1&&(time=dateString1.split(" ")[1]),""!=time&&(time=this._getFormattedTime(time,!0,dateFormat)),d=Utils.getFormatedDateStringMonthFirstWithoutYear(new Date(t1),time)}else d=Utils.getFormatedIMDateTimeFromMillis(Utils.getCurrTimeMillisFromGMT(dateObj.getTime(),!1,dateObj.setTimeInIst?"-19800000":!1),!0,timeOnly,dateOnly,!1,!1,dateFormat,monthFirst);if(d){if(useColon&&(d+=":"),setTimeInIst)if(timeAsDuration){var t1=Utils.getCurrTimeMillisFromGMT(dateObj.getTime(),!1,dateObj.setTimeInIst?"-19800000":!1),result=Utils.convertCheckTimeAsDuration(new Date(t1),dateObj.setTimeInIst?"-19800000":!1,timeOnly,dateOnly,showAdSurationFor24HoursOnly);result||(d+="  IST")}else d+="  IST";$e.html(d)}}}$(".shareTrigger").click(function(){var $ul=$(this).parent();$ul.toggleClass("width_full"),$(this).nextAll().toggle()})},convertDateToGMTDate:function(date,considerTimeDiff){var d,offset=6e4*(new Date).getTimezoneOffset();return d=considerTimeDiff?new Date(date.getTime()+offset-this.timeDiffWithServerInMillis):new Date(date.getTime()+offset)},convertCheckTimeAsDuration:function(then,offset,timeOnly,dateOnly,showDateAfter24Hours){var rightNow=new Date;if(offset){var gmtDate=this.convertDateToGMTDate(rightNow);rightNow=new Date(gmtDate.getTime()-offset)}var diff=rightNow-then,second=1e3,minute=60*second,hour=60*minute,day=24*hour,z=Math.floor(diff/day);return 30>z?isNaN(diff)||0>diff?!1:2*second>diff?!0:minute>diff?!0:2*minute>diff?!0:hour>diff?!0:2*hour>diff?!0:day>diff?!0:showDateAfter24Hours?!1:diff>day&&2*day>diff?!0:365*day>diff?!0:void 0:!1},convertTimeAsDuration:function(then,offset,timeOnly,dateOnly,showDateAfter24Hours,dateFormat){var rightNow=new Date;if(offset){var gmtDate=this.convertDateToGMTDate(rightNow);rightNow=new Date(gmtDate.getTime()-offset)}var diff=rightNow-then,second=1e3,minute=60*second,hour=60*minute,day=24*hour,z=Math.floor(diff/day);return 30>z?isNaN(diff)||0>diff?"":2*second>diff?"Just Now":minute>diff?Math.floor(diff/second)+" Secs ago":2*minute>diff?"1 Min ago":hour>diff?Math.floor(diff/minute)+" Mins ago":2*hour>diff?"1 Hr ago":day>diff?Math.floor(diff/hour)+" Hrs ago":showDateAfter24Hours?Utils.getFormatedIMDateTimeFromMillis(then,!0,timeOnly,dateOnly,!1,!1,dateFormat):diff>day&&2*day>diff?"Yesterday":365*day>diff?Math.floor(diff/day)+" Days ago":void 0:Utils.getFormatedIMDateTimeFromMillis(then,!0,timeOnly,dateOnly,!1,!1,dateFormat)},convertTimeAsRemaining:function(then,endThen,offset,dateFormat){var rightNow=new Date;if(offset){var gmtDate=this.convertDateToGMTDate(rightNow);rightNow=new Date(gmtDate.getTime()-offset)}var diff=then-rightNow,diffEnd=endThen?endThen-rightNow:0;if(diffEnd>0&&0>diff)return"Event Has Started.";if(0>diff)return Utils.convertTimeAsDuration(then);var second=1e3,minute=60*second,hour=60*minute,day=24*hour,z=Math.floor(diff/day);if(!(30>z)){var result=this.getFormatedDateString(new Date(then),!1,dateFormat);return dateFormat&&(dateFormat.indexOf("tt")>-1&&result.indexOf("tt")>-1?result=result.replace("tt",time):result.indexOf("tt")>-1&&(result=result.replace("tt",""))),result}return isNaN(diff)?"":0>diff?"Event Has Started.":2*second>diff?"Event Has Started":minute>diff?Math.floor(diff/second)+"About To Start":2*minute>diff?"about 1 minute remaining":hour>diff?Math.floor(diff/minute)+" minutes Remaining":2*hour>diff?"about 1 hour Remaining":day>diff?Math.floor(diff/hour)+" hours Remaining":diff>day&&2*day>diff?Math.floor(diff/day)+" day Remaining":365*day>diff?Math.floor(diff/day)+" days Remaining":void 0},loaderTimeoutId:0,getLoader:function(){var d='<style>.temp_loader { position: fixed;width: 100%;top: 0px;height: 100%;background: #000;opacity: 0.6;z-index: 9999999;} .temp_loader .loader_img { background: #fff;top: 50%;left: 50%;position: absolute;margin-left: -20px;margin-top: -20px;padding: 20px;}</style><div class="temp_loader"><div id="modal-content" class="loader_img"><img src="/images/fancybox_loading.gif"></div></div>';return d},showLoader:function(timeout){var hasLoader=$(".temp_loader");if(!hasLoader.length){var divLoader=this.getLoader();$("body").append($(divLoader))}$(".temp_loader").removeClass("hide"),timeout&&(this.loaderTimeoutId&&clearTimeout(this.loaderTimeoutId),this.loaderTimeoutId=setTimeout(function(){$(".temp_loader").addClass("hide")},timeout))},hideLoader:function(){$(".temp_loader").addClass("hide"),clearTimeout(this.loaderTimeoutId)},showModalForIframe:function(url){var hasLoader=$(".temp_loader");if(!hasLoader.length){$(".modal_wrapper_frame").length&&$(".modal_wrapper_frame").remove();var divLoader=this.getModal();$("body").append($(divLoader))}return $(".modal_wrapper_frame").removeClass("hide"),url&&$(".modal_wrapper_frame .data-iframe").attr("src",url),$(".modal_wrapper_frame .cross-btn,.modal_wrapper_frame .custom-cross-btn").off("click"),$(".modal_wrapper_frame .cross-btn,.modal_wrapper_frame .custom-cross-btn").on("click",function(){Utils.sendGaEvent("pop-up","click","close"),$(".modal_wrapper_frame").addClass("hide");var event=new CustomEvent("COMMON_MODAL_HIDDEN",{detail:"ALL DEPENDENCIES LOADED"});document.dispatchEvent(event)}),$("body").on("click",".popup-custom-cross-btn",function(){Utils.sendGaEvent("pop-up","click","close"),$(".modal_wrapper_frame").addClass("hide")}),$(".modal_wrapper_frame")},hideModal:function(){$(".modal_wrapper_frame").addClass("hide"),$(".modal_wrapper_frame").length&&$(".modal_wrapper_frame").remove();var event=new CustomEvent("COMMON_MODAL_HIDDEN",{detail:"ALL DEPENDENCIES LOADED"});document.dispatchEvent(event)},showModalForView:function(className){var hasLoader=$(".temp_loader");if(hasLoader.length){$(".temp_loader").remove();var divLoader=this.getModal();$("body").append($(divLoader))}else{$(".modal_wrapper_frame").length&&$(".modal_wrapper_frame").remove();var divLoader=this.getModal();$("body").append($(divLoader))}return $(".modal_wrapper_frame").removeClass("hide"),className&&$(".modal_wrapper_frame").addClass(className),$(".modal_wrapper_frame .view-content").removeClass("hide"),$(".modal_wrapper_frame .data-iframe").addClass("hide"),$(".modal_wrapper_frame .cross-btn,.modal_wrapper_frame .custom-cross-btn").off("click"),$(".modal_wrapper_frame .cross-btn,.modal_wrapper_frame .custom-cross-btn").on("click",function(){Utils.sendGaEvent("pop-up","click","close"),$(".modal_wrapper_frame").addClass("hide");var event=new CustomEvent("COMMON_MODAL_HIDDEN",{detail:"ALL DEPENDENCIES LOADED"});document.dispatchEvent(event)}),$("body").on("click",".popup-custom-cross-btn",function(){Utils.sendGaEvent("pop-up","click","close"),$(".modal_wrapper_frame").addClass("hide");var event=new CustomEvent("COMMON_MODAL_HIDDEN",{detail:"ALL DEPENDENCIES LOADED"});document.dispatchEvent(event)}),$(".modal_wrapper_frame")},getModal:function(){var d='<div class="modal_wrapper_frame"><div id="modal-content"><a class="cross-btn"> x </a><div class="hide view-content"></div><iframe class="data-iframe"></iframe></div></div>';return d},sendGaEvent:function(category,action,label,val){val=val||0,label=label.toUpperCase(),window.ga&&(window.ga("send","event",category,action,label,val),window.ga("common.send","event",category,action,label,val),window.ga("common2.send","event",category,action,label,val)),window.gtag},initTracking:function(){var $p=$("body");$p.find("#content").data("partner");$p.on("change",".track-change",function(e){var elem=$(this),label=elem.data("label"),category=elem.data("category");Utils.sendGaEvent(category,"change",label)}),$p.on("click",".track-click",function(e){var elem=$(this),label=elem.data("label"),category=elem.data("category");Utils.sendGaEvent(category,"click",label)}),$p.on("focus",".track-focus",function(e){var elem=$(this),label=elem.data("label"),category=elem.data("category");Utils.sendGaEvent(category,"focus",label)}),$("#bottom_snackbar").on("click",".snackbar-close-btn",function(){$("#bottom_snackbar").addClass("hide")})},init:function(){var anchor=$(".sticky-social-share-btn");anchor.on("click",function(){var e=$(this),url=e.attr("data-href"),currUrl=document.URL||window.location.href,currTitle=document.title;currTitle.length>200&&(currTitle=currTitle.substring(0,200)),url=url.replace("NEWSSTICKYSHAREURL",currUrl),url=url.replace("NEWSSTICKYSHARETITLE",currTitle),url=url.replace("NEWSSTICKYSHAREURLWITHOUTDOMAIN",window.location.pathname),window.open(url,"_blank")}),this.initTracking(),window.location.href.indexOf("#news_buzz_updates")>-1&&setTimeout(function(){$("html, body").animate({scrollTop:$("#news_buzz_updates").offset().top},1e3)},100),$(window).resize(function(){var event=new CustomEvent("WINDOW_RESIZED",{detail:"WINDOW_IS_RSIZED"});document.dispatchEvent(event)})},getUrlVars:function(){var hash,vars={},query_string=window.location.search;if(query_string){for(var hashes=query_string.slice(1).split("&"),i=0;i<hashes.length;i++)hash=hashes[i].split("="),vars[hash[0]]=hash[1];return vars}return!1},getQueryParam:function(key){var vars=this.getUrlVars();return vars[key]||""},subscribeForMailUpdatesPopup:function(){var html='<div class="hocal_row row_main subscribe_mail_wrapper_popup"><h3>Subscribe Mailing List</h3><div class="mailing-list"><p>By subscribing, you will recieve latest article & updates directly into your mailbox. Your information will not be shared with anyone.</p><hr/><div class="subscribe-block"><form id="poopup_subscribe_to_mail"><p><input type="text" value="" name="name" placeholder="Your name"/></p><p><input type="text" name="email" placeholder="Enter your email address"/></p><p></p></form><span class="subscribe-now-wrap subscribe_to_mail_btn_wrap_popup" id="subscribe_to_mail_btn_wrap"><a class="popup-subscribe-submit-btn" id="subscribe_to_mail_btn_popup">Subscribe Now</a></span></div><div class="hide" id="subscribe-error">Some Error Occured.</div><div class="hide" id="subscribe-success">Subscribed Successfully.</div></div></div>';this.showModalForView(),$("#modal-content .view-content").html(html)},validateLogin:function(callback,pageUrl){pageUrl=pageUrl||window.location.href;var url="/xhr/admin/validate-login";pageUrl&&(url=url+"?pageUrl="+encodeURIComponent(pageUrl)),Hocalwire.Services.get(url).then(function(data){callback(data)},function(e){callback({status:!1})})},loginUsingFacebook:function(fbUrl,title,desc){if(!fbUrl)return void alert("no facebook URL given");title=title||"Login",desc=desc||"Please Login Using Facebook";var html='<div class="hocal_row row_main login_popup_wrap"><h3>'+title+'</h3><div class="mailing-list"><p>'+desc+'</p><hr/><div class="login-block"><span class="action-btn-wrap" id="login_phone_btn_wrap"><a href="'+fbUrl+'" class="action-btn" id="login-now-phone-submit-btn">Login With Facebook</a></span></div><div class="hide" id="login-error">Login Error</div><div class="hide" id="login-success">Login Successful</div></div><div class="external_link"><a class="forgot-password">Forgot Password</a><a class="register-now">Register</a></div></div>';this.showModalForView(),$("#modal-content .view-content").html(html)},loginUsingPhone:function(title,desc,loginCallback,pageUrl){var currUrl=pageUrl||window.location.href,registerNowUrl="/register?redirect_url="+encodeURIComponent(currUrl),forgotPassUrl="/forgot-password?redirect_url="+encodeURIComponent(currUrl);title=title||"Login",desc=desc||"Please Login Using Registered Phone Number";var html='<div class="hocal_row row_main login_popup_wrap"><h3>'+title+'</h3><div class="mailing-list"><p>'+desc+'</p><hr/><div class="login-block"><form id="poopup_login"><p><input id="mobile_no" type="text" value="" name="mobile_no" placeholder="Phone Number"/></p><p><input  id="password" type="password" name="password" placeholder="Enter your password"/></p><p></p></form><span class="action-btn-wrap" id="login_phone_btn_wrap"><a class="login-now-phone-submit-btn action-btn" id="login-now-phone-submit-btn">Login Now</a></span></div><div class="hide" id="login-error">Login Error</div><div class="hide" id="login-success">Login Successful</div></div><div class="external_link"><a href="'+forgotPassUrl+'" class="forgot-password">Forgot Password</a><a href="'+registerNowUrl+'" class="register-now">Register</a></div></div>';this.showModalForView(),$("#modal-content .view-content").html(html),this.loginNowFromPopup(loginCallback)},loginUsingEmail:function(title,desc,loginCallback,pageUrl){var currUrl=pageUrl||window.location.href,registerNowUrl="/register?redirect_url="+encodeURIComponent(currUrl),forgotPassUrl="/forgot-password?redirect_url="+encodeURIComponent(currUrl);title=title||"Login",desc=desc||"Please Login Using Email Id";var html='<div class="hocal_row row_main login_popup_wrap"><h3>'+title+'</h3><div class="mailing-list"><p>'+desc+'</p><hr/><div class="login-block"><form id="poopup_login"><p><input id="email" type="text" value="" name="email" placeholder="Email Id"/></p><p><input id="password" type="password" name="password" placeholder="Enter your password"/></p><p></p></form><span class="action-btn-wrap" id="login_phone_btn_wrap"><a class="login-now-phone-submit-btn action-btn" id="login-now-phone-submit-btn">Login Now</a></span></div><div class="hide" id="login-error">Login Error</div><div class="hide" id="login-success">Login Successful</div></div><div class="external_link"><a href="'+forgotPassUrl+'" class="forgot-password">Forgot Password</a><a href="'+registerNowUrl+'" class="register-now">Register</a></div></div>';this.showModalForView(),$("#modal-content .view-content").html(html),this.loginNowFromPopup(loginCallback)},getParameterByName:function(name,url){url||(url=window.location.href),name=name.replace(/[\[\]]/g,"\\$&");var regex=new RegExp("[?&]"+name+"(=([^&#]*)|&|#|$)"),results=regex.exec(url);return results?results[2]?decodeURIComponent(results[2].replace(/\+/g," ")):"":null},loginNowFromPopup:function(loginCallback,sel){var $wrap=$(sel||".login_popup_wrap"),$parent=$wrap.find("form"),$btn=$wrap.find(".action-btn");$btn.off("click"),$btn.on("click",function(){var mobile=$parent.find("input#mobile_no").val(),email=$parent.find("input#email").val(),password=$parent.find("input#password").val();if(!mobile&&!email)return void $wrap.find("#login-error").removeClass("hide").html("Please provide details for login");if(!password||""==password||" "==password)return void $wrap.find("#login-error").removeClass("hide").html("Please provide password for login");$wrap.find("#login-error").addClass("hide");var url=window.Constants.url.xhrVerify?window.Constants.url.xhrLogin:"/xhr/admin/login",options={contentType:"application/x-www-form-urlencoded; charset=utf-8"};Utils.showLoader(5e3),Hocalwire.Services.post(url,$parent.serialize(),options).then(function(data){var mode=data.mode;if(Utils.hideLoader(),0==data.errorCode)loginCallback(data);else if(-8==data.errorCode)"otp"==mode?$wrap.find("#login-error").removeClass("hide").html("Phone Number or Pasword does not match."):$wrap.find("#login-error").removeClass("hide").html("Email or Pasword does not match.");else if(-18==data.errorCode)if("otp"==mode){var phoneNo=$(".login-form input#mobile_no").val();$wrap.find("#login-error").removeClass("hide").html("You have not authorized, verified your phone. Kindly verify it using otp and try again.").append("</br><a class='generate_otp_btn' href='/verify-email?regenerate-phone=true&mobile="+phoneNo+"'><i>Generate new OTP</i></a></br>")}else{var html="<div style='font-size:17px;'>Your email address is not verified. <br>Please verify it by clicking on the link sent to your email address</div>";html+="<div style='color: #737373;padding: 25px 0px;font-style: italic;font-size: 15px;'>Please check spam/junk folder in case you have not received email in inbox.</div>",html+="<div style='color: #000;'><a class='generate_otp_btn' style='color:#3382f9' href='/verify-email?regenerate-email=true' target='_blank'><i>Generate Verification link again</i></a> in case you have not received the mail.</div> ",html="<div style='text-align:center;'>"+html+"</html>",$wrap.find("#login-error").removeClass("hide").html(html)}else $wrap.find("#login-error").removeClass("hide").html("Unable to login. Please try again later.")},function(e){Utils.hideLoader(),$wrap.find("#login-error").removeClass("hide").html("Unable to login. Please try again later.")})})},bindForGooglePopupSearch:function(){$(".site-search").click(function(){$(".search-hide, .s-overlay").fadeToggle()}),$(".s-close").click(function(){$(".search-hide,.s-overlay").fadeOut()})},checkForWebPSupport:function(){if(!window.enable_webp_images||window.ignore_webp_supprt_check)return!0;
if(window.isIOS&&"true"===window.isIOS)return!1;var elem=document.createElement("canvas");return elem.getContext&&elem.getContext("2d")?0==elem.toDataURL("image/webp").indexOf("data:image/webp"):!1},toggleShowPassword:function(selector){var $e=$(selector);"password"==$e.attr("type")?$e.attr("type","text"):$e.attr("type","password")},logClientDetails:function(props){var partner=$("#content").attr("data-partner"),data={url:window.location.href,"partner-name":partner},referer=$("#content").attr("data-referer");referer&&(data.referer=referer);for(var k in props)data[k]=props[k];window.navigator&&window.navigator.userAgent&&(data["user-agent"]=window.navigator.userAgent);var success=function(){},fail=function(){};Hocalwire.Services.post("/xhr/admin/logClientDetails",data).then(function(){success()},function(){fail()})},isElementPartiallyInViewport:function(el,offset){"undefined"!=typeof jQuery&&el instanceof jQuery&&(el=el[0]);var rect=el.getBoundingClientRect(),windowHeight=window.innerHeight||document.documentElement.clientHeight,windowWidth=window.innerWidth||document.documentElement.clientWidth,vertInView=rect.top<=windowHeight&&rect.top+rect.height>=0,horInView=rect.left<=windowWidth&&rect.left+rect.width>=0;return vertInView&&horInView},getYTId:function(url){var regExp=/^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#&?]*).*/,match=url.match(regExp);return match&&11==match[7].length?match[7]:!1},isInView:function(elem,offset,ignoreTopOut,ignoreBottomOut){if(!elem||!$(elem).length)return!1;offset=offset||0;var eh=$(elem).height(),offsetTop=$(elem).offset().top,oy1=offsetTop-offset,oy2=offsetTop+eh-offset,st=$(window).scrollTop(),sh=window.screen.height,topInView=st>=oy1-sh&&oy1>=st;ignoreTopOut&&(topInView=st>=oy1-sh),ignoreBottomOut&&(topInView=oy1>=st);var bottomInView=st>=oy2-sh&&oy2>=st;ignoreTopOut&&(bottomInView=st>=oy2-sh),ignoreBottomOut&&(bottomInView=oy2>=st);var inView=topInView||bottomInView;return inView},isSelectorInView:function(selector,offset,align){align||(align="bottom"),offset=offset||0;for(var items=$(selector),inViews=[],inClosest=[],i=0;i<items.length;i++){var $eee=$(items[i]),diff=$eee.offset().top-$(window).scrollTop()-offset,inView=diff>0&&diff<window.screen.height;inView?inViews.push($eee):"bottom"==align&&diff>window.screen.height?inClosest.push($eee):"top"==align&&diff<window.screen.height&&inClosest.push($eee)}for(var viewItem,i=0;i<inViews.length;i++)"bottom"==align?(!viewItem||viewItem.offset().top<=inViews[i].offset().top)&&(viewItem=inViews[i]):(!viewItem||viewItem.offset().top>inViews[i].offset().top)&&(viewItem=inViews[i]);var closest;if(!viewItem)for(var i=0;i<inClosest.length;i++)"bottom"==align?(!closest||closest.offset().top>=inClosest[i].offset().top)&&(closest=inClosest[i]):(!closest||closest.offset().top<inClosest[i].offset().top)&&(closest=inClosest[i]);return viewItem||closest}};window.getTranslationValue=window.getTranslationValue||function(key,value){return window.translationData&&window.translationData[key]?window.translationData[key]:value?value:key},function(){function addGAEvents(){var initTime=(new Date).getTime();$(document).on("scroll",function(event){var currentScroll=$(window).scrollTop(),t=(new Date).getTime();!scrolledOnce&&currentScroll>scrolledDistance&&t-initTime>2e4&&(scrolledOnce=!0,Hocalwire.Services.AnalyticsService.sendGAEvent("document","scroll","page"))}),$("body").on("click",'a[target="_blank"]',function(){Hocalwire.Services.AnalyticsService.sendGAEvent("external-link","click",$(this).attr("href")||"link")})}function loadYTApi(callback){if(window.YT&&window.YT.Player)callback();else{var tag=document.createElement("script");tag.src="https://www.youtube.com/iframe_api";var firstScriptTag=document.getElementsByTagName("script")[0];firstScriptTag.parentNode.insertBefore(tag,firstScriptTag),window.onYouTubeIframeAPIReady=function(){callback()}}}function initYTAPI(iframes){var callback=function(){for(var i=0;i<iframes.length;i++){var $e=iframes[i],originalId=$e.attr("id"),originalClass=$e.attr("class"),id=Utils.getYTId($e.attr("src"));if(id){var w=$e.width(),h=$e.height(),fid="yt_video_"+parseInt(1e4*Math.random());$e.attr("id"),$e.replaceWith("<div class='yt-video-api-embed-autoplay-onscroll "+originalClass+"' data-original-id='"+originalId+"' id='"+fid+"'></div>"),ytPlayers[fid]=new YT.Player(fid,{height:h,width:w,videoId:id,events:{onReady:function(){console.log("Ready for FID"+fid),ytPlayers[fid].isReady=!0}}})}}};loadYTApi(callback)}function autoPlayVideosInView(){if(window.auto_play_videos_in_view){loadYTApi(function(){});for(var f=$("iframe:not(.yt-video-api-embed-autoplay-onscroll,.ignore-autoplay)"),iframes=[],i=0;i<f.length;i++){var ff=$(f[i]),src=ff.attr("src");src&&(src=src.split("?")[0]),src&&src.indexOf("youtube.")>-1&&(ff.parent&&ff.parent().hasClass("ignore-autoplay")||iframes.push(ff))}initYTAPI(iframes);var currentPlayer,currentPlayerElement;$(window).on("scroll.autoplay-videos",function(){var isScrollUp,lastScrollTop=0,st=window.pageYOffset||document.documentElement.scrollTop;isScrollUp=st>lastScrollTop?!1:!0;for(var f=$("iframe:not(.yt-video-api-embed-autoplay-onscroll, .ignore-autoplay)"),iframes=[],i=0;i<f.length;i++){var ff=$(f[i]),src=ff.attr("src");src&&(src=src.split("?")[0]),src&&src.indexOf("youtube.")>-1&&(ff.parent&&ff.parent().hasClass("ignore-autoplay")||iframes.push(ff))}initYTAPI(iframes);for(var ytVideos=$(".yt-video-api-embed-autoplay-onscroll"),i=0;i<ytVideos.length;i++){var $e=$(ytVideos[i]),isInView=Utils.isInView($e),isPlaying=$e.attr("data-playing"),id=$e.attr("id"),player=($e.attr("data-mute"),ytPlayers[id]);player&&player.isReady&&(isInView&&!isPlaying?(currentPlayer&&currentPlayer.pauseVideo&&currentPlayer.pauseVideo(),currentPlayer&&currentPlayer.pause&&currentPlayer.pause(),currentPlayerElement&&currentPlayerElement.attr("data-playing",""),currentPlayerElement=$e,currentPlayer=player,player.playVideo(),player.mute(),$e.attr("data-playing","1")):!isInView&&isPlaying&&(player.pauseVideo(),$e.attr("data-playing","")))}for(var mp4Videos=$(".hocal-uploaded-video"),i=0;i<mp4Videos.length;i++){var $e=$(mp4Videos[i]),isInView=Utils.isInView($e),isPlaying=$e.attr("data-playing");isInView&&!isPlaying?(currentPlayer&&currentPlayer.pauseVideo&&currentPlayer.pauseVideo(),currentPlayer&&currentPlayer.pause&&currentPlayer.pause(),currentPlayerElement&&currentPlayerElement.attr("data-playing",""),currentPlayerElement=$e,currentPlayer=$e[0],$e[0].play(),$e.attr("data-playing","1")):!isInView&&isPlaying&&($e[0].pause(),$e.attr("data-playing",""))}})}}function runCurrentTimeTimer(){var now=(new Date).getTime(),isDateTime=!1,isDay=!1,hasDayName=!1,excludeSec=!1;$(".todays-date-time").hasClass("date-and-time")&&(isDateTime=!0),$(".custom-date-time-day").hasClass("day-only")&&(isDay=!0),$(".todays-date-time").hasClass("has-day-name")&&(hasDayName=!0),$(".todays-date-time").hasClass("exclude-seconds")&&(excludeSec=!0);var c=Utils.getFormatedIMDateTimeFromMillis(now,excludeSec,!1,isDateTime?!1:!0,!1,isDay);$(".todays-date-time").hasClass("month-first-with-time")&&(c=Utils.getFormatedDateStringMonthFirstWithDay(new Date)),hasDayName&&(c=Utils.getDayName(new Date)+", "+c),$(".todays-date-time").html(c);var items=$(".todays-date-time");if(items.length>0)for(var i=0;i<items.length;i++){var item=$(items[i]);item.hasClass("filter-smart")&&(item.hasClass("date-only")?item.html((new Date).getDate()):item.hasClass("month-year")?item.html(Utils.getMonthYearName(new Date)):item.hasClass("day-only")&&item.html(Utils.getDayName(new Date)))}$(".custom-date-time-day").html(c),setTimeout(function(){runCurrentTimeTimer()},1e3)}function parseBackElement($content){$("#content").find("h-iframe").each(function(e,el){var $item=$(this),$new=$(document.createElement("iframe"));$new.attr("loading","lazy");var attributes=$item.prop("attributes");$.each(attributes,function(){$new.attr(this.name,this.value)}),$item.replaceWith($new)}),$("#content").find("h-img").each(function(e,el){var $item=$(this),$new=$(document.createElement("img")),attributes=$item.prop("attributes");$.each(attributes,function(){$new.attr(this.name,this.value)}),$item.replaceWith($new)}),$("#content").find("h-video").each(function(e,el){var $item=$(this),$new=$(document.createElement("video")),html=$item.html();$new.html(html);var attributes=$item.prop("attributes");$.each(attributes,function(){$new.attr(this.name,this.value)}),$item.replaceWith($new)})}function loadCodes(infiniteScroll){if(infiniteScroll)return window.FB&&FB.XFBML.parse(),window.twttr&&window.twttr.widgets&&twttr.widgets.load(),void(window.instgrm&&window.instgrm.Embeds&&window.instgrm.Embeds.process&&window.instgrm.Embeds.process());window.addthis&&window.addthis.layers&&window.addthis.layers.refresh&&(addthis.layers.refresh(),window.twitter_handle&&(addthis_share.passthrough={twitter:{via:window.twitter_handle}}),window.short_url&&(addthis_share.url=short_url)),$("body").on("WINDOW_URL_CHANGE",function(a,data){if(window.addthis&&window.addthis.layers&&window.addthis.layers.refresh){if(addthis.layers.refresh(),window.twitter_handle&&(addthis_share.passthrough={twitter:{via:window.twitter_handle}}),data&&data.element){var ee=data.element,shortUrl=ee.attr("data-short-url");shortUrl&&window.use_short_url_in_share&&(addthis_share.url=shortUrl)}var url=$("#content").attr("data-root")+window.location.pathname;window.addthis&&window.addthis.sharecounters&&addthis.sharecounters.getShareCounts({service:["facebook","pinterest","reddit","delicious","vk","odnoklassniki_ru"],countUrl:url},function(obj){for(var count=0,i=0;i<obj.length;i++)if(obj[i].count){var cc=parseInt(obj[i].count);cc&&!isNaN(cc)&&(count+=cc)}$(".at-share-dock-outer .at-share-dock .at4-count .at4-counter").html(count),$(".at-custom-sidebar-counter .at-custom-sidebar-count").html(count)})}});var loadFBCode=function(d,s,id,key){var js,fjs=d.getElementsByTagName(s)[0];d.getElementById(id)||(js=d.createElement(s),js.id=id,js.src="//connect.facebook.net/en_US/sdk.js#xfbml=1&version=v2.4&appId="+key,fjs.parentNode.insertBefore(js,fjs))},loadTwitter=function(){window.twitterWidgetLoaded=!1,window.twttr=function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],t=window.twttr||{};if(!d.getElementById(id))return js=d.createElement(s),t._e=[],t.ready=function(f){t._e.push(f);var event=new CustomEvent("TWITTER_LOADED",{detail:"ALL TWITTER DEPENDENCIES LOADED"});document.dispatchEvent(event),window.twitterWidgetLoaded=!0,window.twttr&&twttr.widgets.load()},js.id=id,js.async=!0,js.src="https://platform.twitter.com/widgets.js",fjs.parentNode.insertBefore(js,fjs),t}(document,"script","twitter-wjs")};window.FBCODE&&loadFBCode(document,"script","facebook-jssdk",window.FBCODE),window.ignoreCoreScripts||loadTwitter()}function loadFAB(){$(".fabsticky,.backdrop").length&&$(".fabsticky,.backdrop").click(function(){$(".backdrop").hasClass("hide")?($(".backdrop").removeClass("hide"),$(".fabsticky.child").each(function(){$(this).stop().show().animate({bottom:parseInt($("#masterfab").css("bottom"))+parseInt($("#masterfab").outerHeight())+40*$(this).data("subitem")-$(".fabsticky.child").outerHeight()+"px",opacity:1},125)})):($(".backdrop").addClass("hide"),$(".fabsticky.child").stop().animate({bottom:$("#masterfab").css("bottom"),opacity:0},125,function(){$(this).hide()}))})}function checkForWebpSupport($data){var supportsWebp=Utils.checkForWebPSupport();if(!supportsWebp)for(var images=$data?$data.find("img"):$("body img"),i=0;i<images.length;i++){var e=$(images[i]),src=e.attr("src"),dsrc=e.attr("data-src");src&&src.indexOf(".webp")>-1?e.attr("src",src.replace(".webp",".jpg")):dsrc&&dsrc.indexOf(".webp")>-1&&e.attr("data-src",dsrc.replace(".webp",".jpg"))}}function executeBinding(totalCount,count,infiniteScroll){if(totalCount==count){/ip(hone|od)|ipad/i.test(navigator.userAgent)&&$("body").css("cursor","pointer");var content=$("#content");if(parseBackElement(content),unveilImages(),loadCodes(infiniteScroll),Utils.convertTimeToLocalTime(),infiniteScroll)return setTimeout(function(){bindForLoadOnVisible(infiniteScroll)},100),checkForWebpSupport(infiniteScroll),resetIframeSizes(infiniteScroll),bindForLazyLoadMixin(infiniteScroll),hideForPayTM(infiniteScroll),void(window.createGallerySliderAjax&&createGallerySliderAjax(infiniteScroll));if(window.initialiseScriptsBinding&&window.initialiseScriptsBinding(),window.initScriptArray)for(var i=0;i<window.initScriptArray.length;i++)window.initScriptArray[i]&&window.initScriptArray[i]();runCurrentTimeTimer();try{resetIframeSizes()}catch(e){}try{var event=new CustomEvent("RESOURCES_INITIALIZED",{detail:"ALL DEPENDENCIES LOADED"});document.dispatchEvent(event),window.resourcesInitialized=!0}catch(e){}loadFAB(),window.disableCopyPaste&&"NO_DISABLE"==window.disableCopyPaste||(disableCutCopyPaste(),insertLinkInCopy()),handleScrollTopVisible(),initTransliterationOnSearch(),enableSearchAutocomplete(),setupUserStateButtons(),Utils.init(),subscribeForMailUpdates(),bindForLazyLoadMixin(),bindForRefreshMixin(),bindForRefreshMixinButton(),checkForWebpSupport(),doStuffForInfiniteScroll(),initializeStickySides(),setTimeout(function(){unveilImages()},2e3),bindForLoadOnVisible(),setForGDPRCookie(),sendEmailBind(),sendNewsRead(),hideForPayTM(),setupTooltip(),bindForXHRLoadPageData(),showContentInPopupOnInit(),checkForRefreshPage(),autoPlayVideosInView(),initSliderControls();var event=new CustomEvent("FRAMEWORK_LOAD_COMPLETE",{detail:"ALL FRAMEWORK FUNCTION LOADED"});document.dispatchEvent(event),window.FRAMEWORK_LOAD_COMPLETE=!0}}function initSliderControls(){$("body").on("click",".rslides_nav",function(){$(this).closest(".gallery-slider-wrapper").find("video").trigger("pause")})}function bindAndHandleImageOnError(){var handleError=function(img){var src=img.attr("data-src")||img.attr("src")||"",isHUpload=src.indexOf("h-upload")>-1?!0:!1;if(src&&isHUpload){src=src.split("?")[0];var triedNonCropped=(src.indexOf(".jpg")==src.length-".jpg".length-1?!0:!1,src.indexOf(".webp")==src.length-".webp".length-1?!0:!1,img.attr("data-used-noncropped")),triedJpg=img.attr("data-used-jpg"),triedWebp=img.attr("data-used-webp"),a=src.split("/"),last=a[a.length-1],nonHuploadSrc="";if(last.indexOf("_")>-1){var lastA=last.split("_"),firstStr=lastA[0];if(firstStr.indexOf("x")>-1){var pw,ph,w=firstStr.split("x")[0],h=firstStr.split("x")[1];try{pw=parseInt(w),ph=parseInt(h)}catch(e){}isNaN(pw)||isNaN(ph)||pw!=w||ph!=h||(lastA.splice(0,1),last=lastA.join("_"),a[a.length-1]=last,nonHuploadSrc=a.join("/"))}}img.attr("data-src",""),triedNonCropped?triedJpg?triedWebp?img.attr("src","/images/placeholder.jpg"):(src=nonHuploadSrc||src,src.endsWith(".jpg")?(img.attr("data-used-webp","1"),img.attr("src",src.replace(".jpg",".webp"))):triedJpg||src.endsWith(".webp")&&(img.attr("data-used-jpg","1"),img.attr("src",src.replace(".webp",".jpg")))):(src=nonHuploadSrc||src,src.endsWith(".webp")?(img.attr("data-used-jpg","1"),img.attr("src",src.replace(".webp",".jpg"))):triedWebp||src.endsWith(".jpg")&&(img.attr("data-used-webp","1"),img.attr("src",src.replace(".jpg",".webp")))):(img.attr("data-used-noncropped","1"),img.attr("src",nonHuploadSrc))}else img.attr("src","/images/placeholder.jpg")};if(window.handleImageUnveilError=handleError,window.imageLoadError&&window.imageLoadError.length)for(;window.imageLoadError&&window.imageLoadError.length;){var img=$(window.imageLoadError.pop());img.off("error"),img.on("error",function(){handleError($(this))}),handleError(img)}$("body").on("error","img[data-class='h-custom-image']",function(){handleError($(this))})}function checkForRefreshPage(){if(window.refresh_pages_on_interval){var val=window.refresh_pages_on_interval[window.location.pathname];val&&setTimeout(function(){window.location.reload()},val)}}function showContentInPopupOnInit(){var c=$(".show-content-in-popup-on-load");if(c.length){var cookie=c.attr("data-cookie-name"),expiry=c.attr("data-cookie-expire-mins");if(cookie&&expiry){var cname=Hocalwire.Services.GlobalService.getCookie(cookie);if(cname)return}var message=c.attr("data-content"),title=c.attr("data-title"),okBtnText=c.attr("data-ok-btn-text")||"OK",mm="<div class='center alert-dialog-copy'><h3>"+title+"</h3><div class='text-bottom'>"+message+"</div><div class='ok-btn-wrap'><a class='ok-btn'>"+okBtnText+"</a></div> </div>",style="<style>.modal_wrapper_frame {background: rgba(0,0,0, 0.9) !important;} .modal_wrapper_frame .cross-btn {color:#fff;top: 20px;}.modal_wrapper_frame #modal-content{background: transparent;border: 0px;}@media screen and (min-width: 767px) {.modal_wrapper_frame #modal-content{bottom:30%;top:30%;}} .ok-btn-wrap{background:#ccc;text-align:center;font-weight:700;border-top:1px solid #555;padding:5px 7px}.ok-btn-wrap .ok-btn{background:red;color:#fff;font-weight:700;padding:5px 25px;cursor:pointer;} @media screen and (max-width: 767px) {.modal_wrapper_frame #modal-content{bottom:20%;top:20%;}}.alert-dialog-copy h3{padding: 25px 15px;background: #555;font-size: 20px;color: white;margin-bottom:0px;}.alert-dialog-copy .text-bottom{padding: 15px;background-color: #ccc;color: black;font-size: 17px;}</style>";Utils.showModalForView();var $modalContent=$(".modal_wrapper_frame .view-content");$modalContent.html(mm+style);var redirectUrlOnCancel=c.attr("data-redirect-cancel-url");$(".ok-btn-wrap .ok-btn").off("click.disclaimer"),$(".ok-btn-wrap .ok-btn").on("click.disclaimer",function(){Utils.hideModal(),cookie&&expiry&&Hocalwire.Services.GlobalService.setCookie(cookie,"true",{path:"/",expires:new Date((new Date).getTime()+60*parseInt(expiry)*1e3)})}),redirectUrlOnCancel&&($(".modal_wrapper_frame .cross-btn").off("click.disclaimer"),$(".modal_wrapper_frame .cross-btn").on("click.disclaimer",function(){Utils.hideModal(),window.location.href=redirectUrlOnCancel}))}}function bindForXHRLoadPageData(){$("body").on("click",".load-url-data-on-click",function(){if(!$(this).attr("already-loaded")){$(this).attr("data-single-load")&&$(this).attr("already-loaded","1");var that=this,view=$(this).attr("data-view-target");if(view&&(view=$(view)),view&&view.length||(view=$(".load-url-data-on-click-view")),view.length){var url=$(this).attr("data-href");url&&Hocalwire.Services.get(url).then(function(data){$(that).closest(".parent-tabs").find(".load-url-data-on-click").removeClass("is-active"),$(that).addClass("is-active"),view.html(data)},function(){view.html("<div>Failed</div>")})}}});var elems=$(".load-url-data-on-click");if(elems.length)for(var i=0;i<elems.length;i++){var el=getElement(elems[i])();el.attr("data-init-on-load")&&el.trigger("click")}}function sendNewsRead(newsId){if(window.sendNewsReadState){var $e=$("#content"),newsId=newsId?newsId:$e.attr("data-newsid");if(newsId){var hasStore=$e.attr("has-ga-store-key");if(hasStore){var data={code:"",id:newsId};Hocalwire.Services.post("/xhr/admin/send-read-info",data)}else{var code=(new Date).getTime(),data={code:code,id:newsId};Hocalwire.Services.post("/xhr/admin/send-read-info",data)}}}}function removeDuplicateKeyFromProps(arr,key){for(var i=0;i<arr.length;i++){var xx=arr[i],keyx=xx.split("=")[0];keyx==key&&(arr.splice(i,1),i--)}}function bindForLoad(event,selector,newItem,isHtml,dataElement){function loadHtml(htmlItem){var $e=$("#"+htmlItem.element_id);if($e.length){var content=decodeURIComponent(htmlItem.content);try{var htmlCode=$(content);if(htmlCode&&htmlCode.length||(htmlCode=content),"null"!=htmlCode)try{$e.removeClass("hide").html(htmlCode)}catch(e){}else $e.removeClass("hide")}catch(e){console.log("can not create jquerey object f rom html html element"+content)}}}var item={};for(var k in newItem)item[k]=newItem[k];var partner=$("#content").attr("data-partner"),success=function(data){var templateData=data.templateData,view=data.viewData,itemData=data.itemData,maxInfiniteCount=window.max_dynamic_links_count?parseInt(window.max_dynamic_links_count):!1,countReadAlso=0;if(itemData&&!window.exclude_dynamic_links_only)for(var k in itemData)if(countReadAlso+=1,!(maxInfiniteCount&&countReadAlso>maxInfiniteCount)){var hh='<div class="read-this-also-wrap"><span class="read-this-also"> '+(window.website_readalso_string||"Also Read -")+" </span>"+(itemData[k].mediaUrl?'<a class="also-read-media-wrap" href="'+itemData[k].newsUrl+'?utm_source=internal-artice&utm_medium=also-read" aria-label="read-media"><img class="also-read-media" data-src="'+itemData[k].mediaUrl+'" alt="news-image" title="news-image"></a>':"")+'<a href="'+itemData[k].newsUrl+'?utm_source=internal-artice&utm_medium=also-read">'+itemData[k].title+"</a></div>";$("#"+k).removeClass("hide").html($(hh))}var $e=$("#"+templateData.element_id),loadMoreType=!1;templateData.loadMoreSelector&&(loadMoreType=!0),$e.attr("loaded-for-lazy","true");try{if(templateData.dataPageNo&&(item.dataPageNo=templateData.dataPageNo),templateData.extra_css&&$e.addClass(templateData.extra_css),templateData.currPage&&($(selector).attr("data-curr-page",templateData.currPage),"document"==selector&&$e.attr("data-curr-page",templateData.currPage)),loadMoreType){var $et=$(templateData.loadMoreSelector),viewSelector=templateData.viewSelector,$view=$(view);viewSelector&&($view=$view.find(viewSelector)),$et.replaceWith($view),$e=$view}else{var viewSelector=templateData.viewSelector;viewSelector?($view=$(view),$view.find(viewSelector).length&&($view=$view.find(viewSelector)),$e.removeClass("hide").empty(),$e.append($view)):$e.removeClass("hide").html(view)}hideForPayTM($e),checkForWebpSupport($e),unveilImages();var hasLoadMore=$e.find(".js-load-more-item");Utils.convertTimeToLocalTime($e),hasLoadMore&&hasLoadMore.length&&!item.lazyLoadOnlyForMore&&(hasLoadMore.off("click"),hasLoadMore.on("click",function(){$(this).addClass("loading"),loadItems(item,partner,hasLoadMore)})),loadCodes(!0),window.initOnMixinLayzLoad&&window.initOnMixinLayzLoad($e)}catch(e){}},fail=function(){$("#"+item.element_id).attr("loaded-for-lazy","true"),checkForWebpSupport($(selector)),unveilImages()},loadItems=function(item,partner,loadMore,loadMoreElementSelector){var element=$("#"+item.element_id);if(element&&element.length&&(!item.refreshOnEachLoad||!element.attr("data-nochange"))&&(item.refreshOnEachLoad||"true"!=element.attr("loaded-for-lazy")||loadMore)){element.attr("loaded-for-lazy","true");var $e=$("#"+item.element_id);if($e.attr("data-extra-param-heading")&&(item.heading=$e.attr("data-extra-param-heading")),$e.attr("data-extra-param-link")&&(item.link=$e.attr("data-extra-param-link")),item.updatePropsFromElement&&item.updatePropsFromElement.key){var key=item.updatePropsFromElement.key,itemKey=item.updatePropsFromElement.itemKey,value=element.attr(key);value&&(item[itemKey]=value)}var currPage=$(selector).attr("data-curr-page");"document"==selector&&(currPage=$e.attr("data-curr-page")),!currPage&&loadMore&&($(selector).attr("data-curr-page","1"),currPage=1,"document"==selector&&$e.attr("data-curr-page","1"));var startIndexDelta=0,viewProps=[];for(var k in item){var heading=item[k],encoded=encodeURIComponent(heading);viewProps.push(k+"="+encoded)}if(loadMore&&loadMore.length){var loadMoreElementSelector=loadMore.attr("data-load-more-selector"),viewSelector=loadMore.attr("data-view-selector");loadMore.addClass("disabled"),loadMoreElementSelector?viewProps.push("loadMoreSelector="+loadMoreElementSelector):viewProps.push("loadMoreSelector=.js-load-more-item"),viewSelector&&viewProps.push("viewSelector="+viewSelector),viewProps.push("currPage="+(parseInt(currPage)+1))}viewProps.push("partner="+partner);var filterDataElement=$("#filter-variable-data");filterDataElement.length&&(viewProps.push("group_id="+filterDataElement.data("id")),viewProps.push("group_content_type="+filterDataElement.data("content-type")));var filterDataElement=$("#filter-params-data");if(filterDataElement.length&&!$e.attr("data-extra-param-key")&&(viewProps.push("extra_param_key="+filterDataElement.data("key")),viewProps.push("extra_param_value="+filterDataElement.data("value"))),$e.length&&$e.attr("data-extra-param-key")&&(viewProps.push("extra_param_key="+$e.attr("data-extra-param-key")),viewProps.push("extra_param_value="+($e.attr("data-extra-param-value")||""))),filterDataElement.length&&!$e.attr("data-extra-param-keys")){var keys=filterDataElement.data("keys"),values=filterDataElement.data("values");if(keys&&values)for(var k=keys.split(","),v=values.split(","),j=0;j<k.length;j++)removeDuplicateKeyFromProps(viewProps,k[j]),item[k[j]]=v[j],viewProps.push(k[j]+"="+v[j])}if($e.length&&$e.attr("data-extra-param-keys")){var keys=$e.attr("data-extra-param-keys"),values=$e.attr("data-extra-param-values");if(keys&&values)for(var k=keys.split(","),v=values.split(","),j=0;j<k.length;j++)removeDuplicateKeyFromProps(viewProps,k[j]),item[k[j]]=v[j],viewProps.push(k[j]+"="+v[j])}var loadMoreFilterParams=$(".filter-variable-data-load-more-before:last div");if(loadMoreFilterParams.length)for(var i=0;i<loadMoreFilterParams.length;i++)viewProps.push($(loadMoreFilterParams[i]).data("key")+"="+$(loadMoreFilterParams[i]).data("value"));loadMore&&item.loadMoreCount&&item.loadMoreCount!=item.newsCount&&(startIndexDelta=parseInt(item.newsCount)-parseInt(item.loadMoreCount),item.newsCount=item.loadMoreCount,removeDuplicateKeyFromProps(viewProps,"newsCount"),viewProps.push("newsCount="+item.newsCount));var startIndex=0,count=item.count||item.newsCount||10;startIndex=currPage?parseInt(currPage)*count+startIndexDelta:0,startIndex&&(viewProps.push("startIndex="+startIndex),viewProps.push("counts="+count),item.newsCount||(removeDuplicateKeyFromProps(viewProps,"newsCount"),viewProps.push("newsCount="+count))),viewProps=viewProps.join("&");var url="/xhr/getNewsMixin?"+viewProps;Hocalwire.Services.get(url).then(function(data){success(data)},function(){fail()})}};if("ready"==event&&"document"==selector)if(isHtml){var timeout=window.scriptLoadDelayExternalScripts?window.scriptLoadDelayExternalScripts:0;timeout?setTimeout(function(){loadHtml(item)},timeout):loadHtml(item)}else if(item.ignoreInitialLoad){var hasLoadMore=dataElement?dataElement.find(".js-load-more-item"):$("#"+item.element_id+" .js-load-more-item");hasLoadMore&&hasLoadMore.length?(hasLoadMore.off("click"),hasLoadMore.on("click",function(){$(this).addClass("loading"),loadItems(item,partner,hasLoadMore)})):item.lazyLoadOnlyForMore&&$("body").on("click.bindforload."+item.element_id,"#"+item.element_id+" .js-load-more-item",function(){isHtml?loadHtml(item):loadItems(item,partner,$(this))})}else loadItems(item,partner);else $(selector).off(event+".bindforload."+item.element_id),item.eventSelectorLazyLoad?$("body").on(event+".bindforload."+item.element_id,selector,function(){isHtml?loadHtml(item):loadItems(item,partner)}):$(selector).on(event+".bindforload."+item.element_id,function(){isHtml?loadHtml(item):loadItems(item,partner)})}function bindForRefreshMixinButton(){$("body").on("click",".refresh-mixin-btn",function(){var item=$(this),obj=window.refreshMixin||{},id=item.attr("data-id"),newsItem=obj[id];newsItem&&bindForRefresh(newsItem,!0)})}function bindForRefresh(newItem,directLoad){function refreshHtml(htmlItem){var $e=$("#"+htmlItem.element_id);if($e.length){var content=decodeURIComponent(htmlItem.content);try{var htmlCode=$(content);if(htmlCode&&htmlCode.length||(htmlCode=content),"null"!=htmlCode)try{$e.removeClass("hide").html(htmlCode)}catch(e){}else $e.removeClass("hide")}catch(e){console.log("can not create jquerey object f rom html html element"+content)}}}var item={};for(var k in newItem)item[k]=newItem[k];var partner=$("#content").attr("data-partner");item.partner=partner;var success=function(data){for(var templateData=data.templateData,view=data.viewData,$e=$("#"+templateData.element_id),scriptNodes=[],viewData=$(data.viewData||data),i=0;i<viewData.length;i++)"SCRIPT"==viewData[i].nodeName&&scriptNodes.push(viewData[i]);try{templateData.extra_css&&$e.addClass(templateData.extra_css),item.refreshForDelta?($e.removeClass("hide"),item.prefixSelector&&$e.find(item.prefixSelector).length?$(view).insertBefore($e.find(item.prefixSelector+":first")):$e.prepend(view)):$e.removeClass("hide").html(view),hideForPayTM($e),checkForWebpSupport($e),unveilImages(),loadCodes(!0),Utils.convertTimeToLocalTime($e);for(var scriptNodes=[],i=0;i<scriptNodes.length;i++)$e.push(scriptNodes[i]);window.refreshInit&&window.refreshInit($e)}catch(e){}},fail=function(){},refreshItem=function(item,onlyOnce){var $ee=$("#"+item.element_id);if($ee.length){var viewProps=(item.count||item.newsCount||10,[]);$ee.attr("data-extra-param-heading")&&(item.heading=$ee.attr("data-extra-param-heading")),$ee.attr("data-extra-param-link")&&(item.link=$ee.attr("data-extra-param-link"));for(var k in item){var heading=item[k],encoded=encodeURIComponent(heading);viewProps.push(k+"="+encoded)}if(viewProps.push("from_refresh=true"),item.refreshForDelta){var loadMoreFilterParams=$(".filter-variable-data-load-more-after:first div");if(loadMoreFilterParams.length)for(var i=0;i<loadMoreFilterParams.length;i++)viewProps.push($(loadMoreFilterParams[i]).data("key")+"="+$(loadMoreFilterParams[i]).data("value"))}var filterDataElement=$("#filter-variable-data");filterDataElement.length&&(viewProps.push("group_id="+filterDataElement.data("id")),viewProps.push("group_content_type="+filterDataElement.data("content-type")));var filterDataElement=$("#filter-params-data");if(filterDataElement.length&&!$ee.attr("data-extra-param-key")&&(viewProps.push("extra_param_key="+filterDataElement.data("key")),viewProps.push("extra_param_value="+filterDataElement.data("value"))),$ee.attr("data-extra-param-key")&&(viewProps.push("extra_param_key="+$ee.attr("data-extra-param-key")),viewProps.push("extra_param_value="+($ee.attr("data-extra-param-value")||""))),filterDataElement.length&&!$ee.attr("data-extra-param-keys")){var keys=filterDataElement.data("keys"),values=filterDataElement.data("values");if(keys&&values)for(var k=keys.split(","),v=values.split(","),i=0;i<k.length;i++)removeDuplicateKeyFromProps(viewProps,k[i]),item[k[i]]=v[i],viewProps.push(k[i]+"="+v[i])}if($ee.attr("data-extra-param-keys")){var keys=$ee.attr("data-extra-param-keys"),values=$ee.attr("data-extra-param-values");if(keys&&values)for(var k=keys.split(","),v=values.split(","),i=0;i<k.length;i++)removeDuplicateKeyFromProps(viewProps,k[i]),item[k[i]]=v[i],viewProps.push(k[i]+"="+v[i])}viewProps=viewProps.join("&");var url="/xhr/getNewsMixin?"+viewProps;Hocalwire.Services.get(url).then(function(data){success(data)},function(){fail()})}};if("next_page_load"==item.refresh_interval?($("body").off("WINDOW_URL_CHANGE"),$("body").on("WINDOW_URL_CHANGE",function(a,data){if(data&&data.element){var ee=data.element;ee.attr("data-url")}for(var fitem=refreshMixin.filter(function(i){return"next_page_load"==i.refresh_interval}),i=0;i<fitem.length;i++)fitem&&fitem.length&&("AD"==item.content_type||"HTML"==item.content_type?refreshHtml(fitem[i]):refreshItem(fitem[i]))})):"manual"==item.refresh_interval&&item.refresh_click_selector?$("body").on("click",item.refresh_click_selector,function(e){"AD"==item.content_type||"HTML"==item.content_type?refreshHtml(item):refreshItem(item)}):"manual"==item.refresh_interval&&item.refresh_change_selector?$("body").on("change",item.refresh_change_selector,function(e){"AD"==item.content_type||"HTML"==item.content_type?refreshHtml(item):refreshItem(item)}):directLoad||setInterval(function(){"AD"==item.content_type||"HTML"==item.content_type?refreshHtml(item):refreshItem(item)},parseInt(item.refresh_interval)),directLoad){var $e=$("#"+item.element_id);$e.html("<div class='center-loading-msg'> LOADING........</div>"),"AD"==item.content_type||"HTML"==item.content_type?refreshHtml(item):refreshItem(item)}}function bindForLazyLoadMixin(infiniteScroll){for(var i=0;i<lazyMixinLoad.length;i++){var item=lazyMixinLoad[i],event=item.event_name,id=item.event_element_selector;bindForLoad(event,id,item,!1,infiniteScroll)}for(var i=0;i<lazyHtmlLoad.length;i++){var item=lazyHtmlLoad[i],event=item.event_name,id=item.event_element_selector;bindForLoad(event,id,item,!0,infiniteScroll);
}lazyMixinLoad=[]}function bindForRefreshMixin(){for(var i=0;i<refreshMixin.length;i++){var item=refreshMixin[i],$ee=$("#"+item.element_id);$ee.length&&bindForRefresh(item)}var refreshWidgetsWithEndpoints=$(".refresh-widget-item.widget-has-endpoint");if(refreshWidgetsWithEndpoints.length){var e=$(refreshWidgetsWithEndpoints[i]),id=e.attr("data-element-id"),widgetId=e.attr("data-widget-id");$("#"+id).length&&refreshWidget(id,e.attr("data-endpoint"),e.attr("data-interval"),widgetId)}}function refreshWidget(id,endPoint,interval,widgetId){endPoint&&interval&&$("#"+id).length&&setInterval(function(){var url=widgetId?"/xhr/admin/get-widget-data?widgetId="+widgetId:endPoint;Hocalwire.Services.get(url).then(function(data){$("#"+id).html(data)},function(){})},parseInt(interval))}function unveilImages(){imageErrorHandlerInitialized||(bindAndHandleImageOnError(),imageErrorHandlerInitialized=!0),$(window).off("unveil"),$("#content img").unveil&&$("#content img").unveil(200)}function loadSingleMixinElement(template,pitem){var templates;if(templates=template?[template]:[],!loadingForSingleItem){for(var partner=$("#content").attr("data-partner"),newsTemplates=templates.filter(function(item){return!("COLLECTION_NEWS"!=item.content_type&&"CATEGORY_NEWS"!=item.content_type&&"PHOTO_STORY"!=item.content_type&&"LOCATION_DATA"!=item.content_type&&"CATEGORY_LISTING"!=item.content_type&&"AUTHOR_LISTING"!=item.content_type&&"COMMENT_WIDGET"!=item.content_type&&"OTHER"!=item.content_type&&"FILE"!=item.content_type&&"CONTENT_DATA"!=item.content_type&&"CONTENT_PARAM_DATA"!=item.content_type&&"GENERIC"!=item.content_type&&"BUZZ_LISTING"!=item.content_type&&"ELECTION"!=item.content_type||"true"!=item.is_visible&&"PENDING"!=item.state)}),dataTemplate=templates.filter(function(item){return item.content&&("true"==item.is_visible||"PENDING"==item.state)&&("HTML"==item.content_type||"AD"==item.content_type||"WIDGET"==item.content_type)}),i=0;i<dataTemplate.length;i++){if(dataTemplate[i].only_desktop){var isDesktop=$("#hidden_element_for_desktop").is(":visible");if(window.userDeviceType&&"m"==window.userDeviceType&&(isDesktop=!1),!isDesktop){dataTemplate.splice(i,1),i--;continue}}if(dataTemplate[i].only_desktop_device){var isDesktop=!0;if(window.userDeviceType&&"m"==window.userDeviceType&&(isDesktop=!1),!isDesktop){dataTemplate.splice(i,1),i--;continue}}if(dataTemplate[i].only_mobile_device){var isDesktop=!1;if(window.userDeviceType&&"d"==window.userDeviceType&&(isDesktop=!0),isDesktop){dataTemplate.splice(i,1),i--;continue}}var $e=$("#"+dataTemplate[i].element_id);if($e.length){var content=decodeURIComponent(dataTemplate[i].content);try{var htmlCode=$(content);if(htmlCode&&htmlCode.length||(htmlCode=content),"null"!=htmlCode)try{$e.removeClass("hide").html(htmlCode)}catch(e){}else $e.removeClass("hide")}catch(e){console.log("can not create jquerey object f rom html html element"+content)}dataTemplate[i].refresh_interval&&refreshMixin.push(dataTemplate[i])}}for(var i=0;i<newsTemplates.length;i++){var index=i,elementId=newsTemplates[index].element_id;newsTemplates[index].data_partner&&newsTemplates[index].data_partner!=partner&&(newsTemplates[index].ignoreFromCache=!0);var $e=$("#"+elementId);if($e.length)if(newsTemplates[index].refresh_interval&&refreshMixin.push(newsTemplates[index]),newsTemplates[index].only_desktop){var isDesktop=$("#hidden_element_for_desktop").is(":visible");if(!isDesktop){newsTemplates.splice(index,1),i--;continue}if(newsTemplates[index]["merged-in-sync"]&&$e.length&&$e.html()&&$e.attr("data-loaded")){newsTemplates.splice(index,1),i--;continue}}else{if(newsTemplates[index]["merged-in-sync"]&&$e.length&&$e.html()&&$e.attr("data-loaded")){newsTemplates.splice(index,1),i--;continue}if(newsTemplates[index].only_desktop_device){var isDesktop=!0;if(window.userDeviceType&&"m"==window.userDeviceType&&(isDesktop=!1),!isDesktop){newsTemplates.splice(index,1),i--;continue}}else if(newsTemplates[index].only_mobile_device){var isDesktop=!1;if(window.userDeviceType&&"d"==window.userDeviceType&&(isDesktop=!0),isDesktop){newsTemplates.splice(index,1),i--;continue}}}else newsTemplates.splice(index,1),i--}for(var i=0;i<newsTemplates.length;i++){var index=i,elementId=newsTemplates[index].element_id,$e=$("#"+elementId);if($e.length){!$e.attr("data-mixin")&&newsTemplates[i].mixinName&&$e.attr("data-mixin",newsTemplates[i].mixinName);var success=function(data){var templateData=data.templateData,view=data.viewData,$e=(data.itemData,$("#"+templateData.element_id));try{templateData.extra_css&&$e.addClass(templateData.extra_css),$e.removeClass("hide").html(view)}catch(e){}checkForWebpSupport(),unveilImages($e),Utils.convertTimeToLocalTime($e),templateData.jsInitFunction&&window[templateData.jsInitFunction]&&window[templateData.jsInitFunction]()},fail=function(){};$e.attr("data-extra-param-heading")&&(newsTemplates[i].heading=$e.attr("data-extra-param-heading")),$e.attr("data-extra-param-link")&&(newsTemplates[i].link=$e.attr("data-extra-param-link"));var viewProps=[];for(var k in newsTemplates[i]){var heading=newsTemplates[i][k],encoded=encodeURIComponent(heading);viewProps.push(k+"="+encoded)}var ids=[];if(newsTemplates[i].excludeNewsClass)for(var excludeItems=$("."+newsTemplates[i].excludeNewsClass),i=0;i<excludeItems.length;i++){var id=$(excludeItems[i]).attr("data-newsid");id&&ids.push(id)}ids.length&&viewProps.push("excludeNews="+ids.join(",")),viewProps.push("partner="+partner);var filterDataElement=$("#filter-variable-data");filterDataElement.length&&(viewProps.push("group_id="+filterDataElement.data("id")),viewProps.push("group_content_type="+filterDataElement.data("content-type")));var filterDataElement=$("#filter-params-data");if(filterDataElement.length&&(viewProps.push("extra_param_key="+filterDataElement.data("key")),viewProps.push("extra_param_value="+filterDataElement.data("value"))),$e.attr("data-extra-param-key")&&(viewProps.push("extra_param_key="+$e.attr("data-extra-param-key")),viewProps.push("extra_param_value="+($e.attr("data-extra-param-value")||""))),filterDataElement.length&&!$e.attr("data-extra-param-keys")){var keys=filterDataElement.data("keys"),values=filterDataElement.data("values");if(keys&&values)for(var k=keys.split(","),v=values.split(","),j=0;j<k.length;j++)removeDuplicateKeyFromProps(viewProps,k[j]),newsTemplates[i][k[j]]=v[j],viewProps.push(k[j]+"="+v[j])}if($e.attr("data-extra-param-keys")){var keys=$e.attr("data-extra-param-keys"),values=$e.attr("data-extra-param-values");if(keys&&values)for(var k=keys.split(","),v=values.split(","),j=0;j<k.length;j++)removeDuplicateKeyFromProps(viewProps,k[j]),newsTemplates[i][k[j]]=v[j],viewProps.push(k[j]+"="+v[j])}viewProps=viewProps.join("&");var url="/xhr/getNewsMixin?"+viewProps;loadingForSingleItem=!0,Hocalwire.Services.get(url).then(function(data){pitem&&(pitem.loaded=!0),loadingForSingleItem=!1,success(data)},function(){loadingForSingleItem=!1,fail(),pitem&&(pitem.loaded=!0)})}}}}function loadMixinElement(templates,onInfiniteScrollData){templates||(templates=[]);var count=0,totalCount=0,partner=$("#content").attr("data-partner");if(onInfiniteScrollData)for(var i=0;i<templates.length;i++)templates[i].no_load_on_infinite_scroll?(templates.splice(i,1),i--):templates[i].force_load_on_infinite_scroll||"COLLECTION_NEWS"!=templates[i].content_type&&"CATEGORY_NEWS"!=templates[i].content_type&&"PHOTO_STORY"!=templates[i].content_type&&"LOCATION_DATA"!=templates[i].content_type&&"CATEGORY_LISTING"!=templates[i].content_type&&"AUTHOR_LISTING"!=templates[i].content_type&&"CONTENT_DATA"!=templates[i].content_type&&"CONTENT_PARAM_DATA"!=templates[i].content_type&&"GENERIC"!=templates[i].content_type&&"BUZZ_LISTING"!=templates[i].content_type&&"ELECTION"!=templates[i].content_type||(templates.splice(i,1),i--);for(var insertInOtherElements=[],i=0;i<templates.length;i++){var t=templates[i];if(t.insertElement){var toInsert=!1;t.insertDevice&&t.insertDevice.indexOf("mobile")>-1&&Hocalwire.isMobileSize?(insertInOtherElements.push(t),toInsert=!0):t.insertDevice&&t.insertDevice.indexOf("tab")>-1&&Hocalwire.isTabletSize?(insertInOtherElements.push(t),toInsert=!0):t.insertDevice&&t.insertDevice.indexOf("tabPro")>-1&&Hocalwire.isTabletProSize?(insertInOtherElements.push(t),toInsert=!0):t.insertDevice&&t.insertDevice.indexOf("desktop")>-1&&Hocalwire.isDesktop?(insertInOtherElements.push(t),toInsert=!0):t.insertDevice&&t.insertDevice.indexOf("nonmobile")>-1&&!Hocalwire.isMobileSize&&(insertInOtherElements.push(t),toInsert=!0),t.insertForLoggedInUser&&window.isLoggedIn&&(insertInOtherElements.push(t),toInsert=!0),toInsert&&(templates.splice(i,1),i--)}}if(insertInOtherElements.length)for(var j=0;j<insertInOtherElements.length;j++)for(var i=0;i<templates.length;i++)templates[i].element_id==insertInOtherElements[j].insertElement&&(insertInOtherElements[j].element_id=templates[i].element_id,templates[i]=insertInOtherElements[j]);var newsTemplates=templates.filter(function(item){return!("COLLECTION_NEWS"!=item.content_type&&"CATEGORY_NEWS"!=item.content_type&&"PHOTO_STORY"!=item.content_type&&"LOCATION_DATA"!=item.content_type&&"CATEGORY_LISTING"!=item.content_type&&"AUTHOR_LISTING"!=item.content_type&&"COMMENT_WIDGET"!=item.content_type&&"OTHER"!=item.content_type&&"FILE"!=item.content_type&&"CONTENT_DATA"!=item.content_type&&"CONTENT_PARAM_DATA"!=item.content_type&&"GENERIC"!=item.content_type&&"BUZZ_LISTING"!=item.content_type&&"ELECTION"!=item.content_type||"true"!=item.is_visible&&"PENDING"!=item.state)}),dataTemplate=templates.filter(function(item){return item.content&&("true"==item.is_visible||"PENDING"==item.state)&&("HTML"==item.content_type||"AD"==item.content_type||"WIDGET"==item.content_type)});if(ignoredBucket.length){for(var dataTemplate2=ignoredBucket.filter(function(item){return item.content&&("true"==item.is_visible||"PENDING"==item.state)&&("HTML"==item.content_type||"AD"==item.content_type||"WIDGET"==item.content_type)}),i=0;i<dataTemplate2.length;i++)dataTemplate.push(dataTemplate2[i]);if(ignoredBucket=ignoredBucket.filter(function(item){return!(item.content&&("true"==item.is_visible||"PENDING"==item.state)&&("HTML"==item.content_type||"AD"==item.content_type||"WIDGET"==item.content_type))}),ignoredBucketProcessedCounter+=1,3>ignoredBucketProcessedCounter)for(var i=0;i<ignoredBucket.length;i++)ignoredBucketProcessed[ignoredBucket[i].id]=!1}ignoredBucket=[];for(var i=0;i<dataTemplate.length;i++){if(dataTemplate[i].only_desktop){var isDesktop=$("#hidden_element_for_desktop").is(":visible");if(window.userDeviceType&&"m"==window.userDeviceType&&(isDesktop=!1),!isDesktop){dataTemplate.splice(i,1),i--;continue}}if(dataTemplate[i].lazy_load)lazyHtmlLoad.push(dataTemplate[i]),dataTemplate.splice(i,1),i--;else{if(dataTemplate[i].only_desktop_device){var isDesktop=!0;if(window.userDeviceType&&"m"==window.userDeviceType&&(isDesktop=!1),!isDesktop){dataTemplate.splice(i,1),i--;continue}}if(dataTemplate[i].only_mobile_device){var isDesktop=!1;if(window.userDeviceType&&"d"==window.userDeviceType&&(isDesktop=!0),isDesktop){dataTemplate.splice(i,1),i--;continue}}var $e=$("#"+dataTemplate[i].element_id);if(onInfiniteScrollData&&($e=onInfiniteScrollData.find("#"+dataTemplate[i].element_id)),$e.length){dataTemplate[i].refresh_interval&&!onInfiniteScrollData&&refreshMixin.push(dataTemplate[i]);var content=decodeURIComponent(dataTemplate[i].content);try{var htmlCode=$(content);htmlCode&&htmlCode.length||(htmlCode=content);var showAd=!0;if(dataTemplate[i].isMobileOnlyFormat&&!Hocalwire.isMobileSize&&(showAd=!1),dataTemplate[i].isDesktopOnlyFormat&&!Hocalwire.isDesktopSize&&(showAd=!1),"null"!=htmlCode)try{if(dataTemplate[i].mixinName&&dataTemplate[i].mixinName.indexOf("loadOnVisible#")>-1){var a=dataTemplate[i].mixinName.split("#");dataTemplate[i].mixinName=a[0],dataTemplate[i].mixinLoadOnTimeout=parseInt(a[1])}else if(showAd&&("flyingCarpetAd"==dataTemplate[i].mixinName||dataTemplate[i].flyingCarpetAd)){var htmlCodeNew=flyingCarpetAdWrap.replace("@@@ADD_DATA@@@",content);$e.removeClass("hide").html(htmlCodeNew);var h1=$e.width();h1||(h1=$e.find(".details-content-story").width());var h2=$e.find(".amp-fx-flying-carpet-container").width();h2&&0!=h2||(h2=300),h2>h1&&(h2=h1);var mar=parseInt((h1-h2)/2);$e.find(".amp-fx-flying-carpet-container").attr("style","margin-left:"+mar+"px;")}else if(!dataTemplate[i].popupAd&&"popupAd"!=dataTemplate[i].mixinName||onInfiniteScrollData)if(!dataTemplate[i].sidekickAd&&"sidekickAd"!=dataTemplate[i].mixinName||onInfiniteScrollData)if(!dataTemplate[i].roadBlockerAd&&"roadBlockerAd"!=dataTemplate[i].mixinName||onInfiniteScrollData)"inImageAd"==dataTemplate[i].mixinName||dataTemplate[i].inImageAd?$e.closest(".in-image-ad-wrap").removeClass("hide"):("htmlAd"==dataTemplate[i].mixinName||dataTemplate[i].htmlAdClass)&&$e.addClass(dataTemplate[i].htmlAdClass||"html-ad-from-mixin");else{if(window.road_blocker_ad_cookie_duration){var cookie=Hocalwire.Services.GlobalService.getCookie("_shown_roadblocker_display_");cookie?htmlCode="":Hocalwire.Services.GlobalService.setCookie("_shown_roadblocker_display_","true",{path:"/",expires:new Date((new Date).getTime()+60*parseInt(window.road_blocker_ad_cookie_duration)*1e3)})}if(htmlCode){$("."+(dataTemplate[i].roadblockerAdWrapperClass||"roadblocker-ad-content-wrap")).removeClass("hide");var w1=$e.width(),marLeft=parseInt(w1/2),h1=$e.height(),marTop=parseInt(h1/2);if(window.Hocalwire.isDesktopSize&&$("."+(dataTemplate[i].roadblockerAdWrapperClass||"roadblocker-ad-content-wrap")).attr("style","margin-top:-"+marTop+"px;margin-left:-"+marLeft+"px;"),window.road_blocker_ad_display_duration){var duration=1e3*parseInt(window.road_blocker_ad_display_duration),now=(new Date).getTime(),timerElement=$("."+(dataTemplate[i].roadblockerAdWrapperClass||"roadblocker-ad-content-wrap")).find(".road-blocker-timer"),timeoutId=setInterval(function(){var current=(new Date).getTime(),diff=parseInt((duration-(current-now))/1e3);timerElement.html("Closing in "+diff+" seconds")},200);setTimeout(function(){clearTimeout(timeoutId),$(".roadblocker-ad-content-wrap").remove()},duration)}}}else{if(dataTemplate[i].sidekick_ad_cookie_duration||window.sidekick_ad_cookie_duration){var cookie=Hocalwire.Services.GlobalService.getCookie("_shown_sidekick_display_");cookie?htmlCode="":Hocalwire.Services.GlobalService.setCookie("_shown_sidekick_display_","true",{path:"/",expires:new Date((new Date).getTime()+60*parseInt(dataTemplate[i].sidekick_ad_cookie_duration||window.sidekick_ad_cookie_duration)*1e3)})}if(dataTemplate[i].isMobileOnly&&!Hocalwire.isMobileSize&&(htmlCode=""),dataTemplate[i].isDesktopOnly&&!Hocalwire.isDesktopSize&&(htmlCode=""),htmlCode){dataTemplate[i].stickRight,dataTemplate[i].marginPercent||18;$("."+(dataTemplate[i].sidekickAdWrapperClass||"sidekick-ad-content-wrap")).removeClass("hide");var tid1,tid2;$(".sidekick-nav-btn").off("click"),$(".sidekick-nav-btn").on("click",function(e,data){$(".sidekick-nav-btn").hasClass("open");$(".sidekick-nav-btn").hasClass("open")?($(".sidekick-nav-btn").removeClass("open"),$(".sidekick").addClass("closed-by-user")):$(".sidekick-nav-btn").addClass("open"),(!data||!data.autoTrigger&&(tid1||tid2))&&(clearTimeout(tid1),clearTimeout(tid2),tid1=0,tid2=0);var src=$(".sidekick-nav-img").attr("src"),newsrc="/images/sidekick-open.png"==src?"/images/sidekick-close.png":"/images/sidekick-open.png";$(".sidekick-nav-img").attr("src",newsrc),$(".sidekick .sidebar-wrapper").toggleClass("show-sidebar",1e3),$("#content.primary-page-content-wrapper").toggleClass("push-body",1e3)}),dataTemplate[i].stickRight&&($(".sidekick .sidebar-wrapper").addClass("right-side"),$("#content.primary-page-content-wrapper").addClass("right-side")),dataTemplate[i].slideOver&&$("#content.primary-page-content-wrapper").addClass("sidekick-slide-over"),dataTemplate[i].hideOnClose&&$(".sidekick").addClass("hide-on-close");var displayDuration=1e3*parseInt(dataTemplate[i].sidekick_ad_display_duration||window.sidekick_ad_display_duration||0),autoStartDuration=1e3*parseInt(dataTemplate[i].sidekick_ad_autostart_duration||window.sidekick_ad_autostart_duration||0);autoStartDuration?tid1=setTimeout(function(){$(".sidekick-nav-btn").hasClass("open")||$(".sidekick-nav-btn").trigger("click",{autoTrigger:!0}),displayDuration&&(tid2=setTimeout(function(){$(".sidekick-nav-btn").hasClass("open")&&$(".sidekick-nav-btn").trigger("click",{autoTrigger:!0})},displayDuration))},autoStartDuration):dataTemplate[i].autoExapndInStart&&($(".sidekick-nav-btn").hasClass("open")||$(".sidekick-nav-btn").trigger("click",{autoTrigger:!0}),displayDuration&&(tid2=setTimeout(function(){$(".sidekick-nav-btn").hasClass("open")&&$(".sidekick-nav-btn").trigger("click",{autoTrigger:!0})},displayDuration)))}}else{if(window.popup_ad_cookie_duration){var cookie=Hocalwire.Services.GlobalService.getCookie("_shown_popup_display_");cookie?htmlCode="":Hocalwire.Services.GlobalService.setCookie("_shown_popup_display_","true",{path:"/",expires:new Date((new Date).getTime()+60*parseInt(window.popup_ad_cookie_duration)*1e3)})}if(htmlCode){$("."+(dataTemplate[i].popupAdWrapperClass||"popup-ad-content-wrap")).removeClass("hide");var w1=$e.width(),marLeft=parseInt(w1/2),h1=$e.height(),marTop=parseInt(h1/2);if(window.Hocalwire.isDesktopSize&&$("."+(dataTemplate[i].popupAdWrapperClass||"popup-ad-content-wrap")).attr("style","margin-top:-"+marTop+"px;margin-left:-"+marLeft+"px;"),window.popup_ad_display_duration){var duration=1e3*parseInt(window.popup_ad_display_duration);setTimeout(function(){$(".popup-ad-content-wrap").remove()},duration)}}}if(dataTemplate[i].mixinName&&"loadOnVisible"==dataTemplate[i].mixinName)window.loadOnVisibleElements&&window.loadOnVisibleElements[dataTemplate[i].element_id]&&!window.loadOnVisibleElements[dataTemplate[i].element_id].loaded&&window.loadOnVisibleElements[dataTemplate[i].element_id].data&&(window.loadOnVisibleElements[dataTemplate[i].element_id].onInfiniteScrollData?window.loadOnVisibleElements[dataTemplate[i].element_id].onInfiniteScrollData.find("#"+dataTemplate[i].element_id).html(window.loadOnVisibleElements[dataTemplate[i].element_id].data):$("#"+dataTemplate[i].element_id).html(window.loadOnVisibleElements[dataTemplate[i].element_id].data),window.loadOnVisibleElements[dataTemplate[i].element_id].loaded=!0),window.loadOnVisibleElements[dataTemplate[i].element_id]={data:htmlCode,loaded:!1,onInfiniteScrollData:onInfiniteScrollData,mixinLoadOnTimeout:dataTemplate[i].mixinLoadOnTimeout,mainItem:dataTemplate[i]},dataTemplate[i].mixinLoadOnTimeout||$e.removeClass("hide").html("<div style='text-align:center;min-height:100px;padding-top:100px;background:#f3f3f3;' class='load-on-visible loading'>loading....</div>");else{if(dataTemplate[i].loadOnVisible&&"null"!=dataTemplate[i].loadOnVisible){var eid=dataTemplate[i].element_id;window.loadOnVisibleElements[eid]={data:htmlCode,loaded:!1,onInfiniteScrollData:onInfiniteScrollData,mixinLoadOnTimeout:dataTemplate[i].mixinLoadOnTimeout,mainItem:dataTemplate[i]},dataTemplate[i].mixinLoadOnTimeout||$e.removeClass("hide").html("<div style='text-align:center;min-height:100px;padding-top:100px;background:#f3f3f3;' class='load-on-visible loading'>loading....</div>"),dataTemplate.splice(i,1),i--;continue}"filler_ad"==dataTemplate[i].element_id&&$(".filler-ad-unit-inside-post").length?$(".filler-ad-unit-inside-post").removeClass("hide").html(htmlCode):htmlCode&&"flyingCarpetAd"!=dataTemplate[i].mixinName&&!dataTemplate[i].flyingCarpetAd&&$e.removeClass("hide").html(htmlCode)}}catch(e){}else $e.removeClass("hide")}catch(e){console.log("can not create jquerey object f rom html html element"+content)}}else{if(dataTemplate[i].loadOnVisible&&"null"!=dataTemplate[i].loadOnVisible){var content=decodeURIComponent(dataTemplate[i].content);try{var htmlCode=$(content);htmlCode&&htmlCode.length||(htmlCode=content)}catch(e){htmlCode="<div>Error</div>"}var eid=dataTemplate[i].element_id;window.loadOnVisibleElements[eid]={data:htmlCode,loaded:!1,onInfiniteScrollData:onInfiniteScrollData,mixinLoadOnTimeout:dataTemplate[i].mixinLoadOnTimeout,mainItem:dataTemplate[i]},dataTemplate[i].mixinLoadOnTimeout||$e.removeClass("hide").html("<div style='text-align:center;min-height:100px;padding-top:100px;background:#f3f3f3;' class='load-on-visible loading'>loading....</div>"),dataTemplate.splice(i,1),i--;continue}ignoredBucketProcessed[dataTemplate[i].id]||ignoredBucket.push(dataTemplate[i])}}}for(var i=0;i<newsTemplates.length;i++){var index=i,elementId=newsTemplates[index].element_id;newsTemplates[index].data_partner&&newsTemplates[index].data_partner!=partner&&(newsTemplates[index].ignoreFromCache=!0);var $e=$("#"+elementId);if(onInfiniteScrollData&&($e=onInfiniteScrollData.find("#"+elementId)),newsTemplates[index].refresh_interval&&refreshMixin.push(newsTemplates[index]),newsTemplates[index].only_desktop){var isDesktop=$("#hidden_element_for_desktop").is(":visible");if(!isDesktop){newsTemplates.splice(index,1),i--;continue}if(newsTemplates[index].lazy_load){if(lazyMixinLoad.push(newsTemplates[index]),!newsTemplates[index].loadOnInit){newsTemplates.splice(index,1),i--;continue}}else if(newsTemplates[index]["merged-in-sync"]&&$e.length&&$e.html()&&$e.attr("data-loaded")){newsTemplates.splice(index,1),i--;continue}}else if(newsTemplates[index].lazy_load){if(lazyMixinLoad.push(newsTemplates[index]),!newsTemplates[index].loadOnInit){newsTemplates.splice(index,1),i--;continue}}else{if(newsTemplates[index]["merged-in-sync"]&&$e.length&&$e.html()&&$e.attr("data-loaded")){newsTemplates.splice(index,1),i--;continue}if(newsTemplates[index].only_desktop_device){var isDesktop=!0;if(window.userDeviceType&&"m"==window.userDeviceType&&(isDesktop=!1),!isDesktop){newsTemplates.splice(index,1),i--;continue}}else if(newsTemplates[index].only_mobile_device){var isDesktop=!1;if(window.userDeviceType&&"d"==window.userDeviceType&&(isDesktop=!0),isDesktop){newsTemplates.splice(index,1),i--;continue}}}if(newsTemplates[index].loadOnVisible&&"null"!=newsTemplates[index].loadOnVisible){var eid=newsTemplates[index].element_id;window.loadOnVisibleElements[eid]={type:"CONTENT",loaded:!1,mainItem:newsTemplates[index]},newsTemplates[index].mixinLoadOnTimeout||$e.removeClass("hide").html("<div style='text-align:center;min-height:100px;padding-top:100px;background:#f3f3f3;' class='load-on-visible loading'>loading....</div>"),newsTemplates.splice(index,1),i--}else if(newsTemplates[index].use_as_infinite_scroll_mixin&&"true"==newsTemplates[index].use_as_infinite_scroll_mixin&&!onInfiniteScrollData&&(infiniteScrollMixin=newsTemplates[index]),$e.length)totalCount++;else{var item=newsTemplates.splice(index,1);ignoredBucketProcessed[item[0].id]||ignoredBucket.push(item[0]),i--}}checkForWebpSupport(),unveilImages();for(var i=0;i<ignoredBucket.length;i++)ignoredBucketProcessed[ignoredBucket[i].id]=!0;if(templates=[],(0==ignoredBucket.length||0==newsTemplates.length)&&executeBinding(totalCount,count,onInfiniteScrollData),!newsTemplates.length&&!onInfiniteScrollData&&window.readMoreItemsLinks){var itemData=window.readMoreItemsLinks,maxInfiniteCount=window.max_dynamic_links_count?parseInt(window.max_dynamic_links_count):!1,countReadAlso=0;if(itemData&&!window.exclude_dynamic_links_only)for(var k in itemData)if(countReadAlso+=1,!(maxInfiniteCount&&countReadAlso>maxInfiniteCount)){var hh='<div class="read-this-also-wrap"><span class="read-this-also"> '+(window.website_readalso_string||"Also Read -")+" </span>"+(itemData[k].mediaUrl?'<a class="also-read-media-wrap" href="'+itemData[k].newsUrl+'?utm_source=internal-artice&utm_medium=also-read" aria-label="read-media"><img class="also-read-media" data-src="'+itemData[k].mediaUrl+'" alt="news-image" title="news-image"></a>':"")+'<a href="'+itemData[k].newsUrl+'?utm_source=internal-artice&utm_medium=also-read">'+itemData[k].title+"</a></div>";$("#"+k).removeClass("hide").html($(hh))}}for(var i=0;i<newsTemplates.length;i++){var index=i,elementId=newsTemplates[index].element_id,$e=$("#"+elementId);if(onInfiniteScrollData&&($e=onInfiniteScrollData.find("#"+elementId)),$e.length){!$e.attr("data-mixin")&&newsTemplates[i].mixinName&&$e.attr("data-mixin",newsTemplates[i].mixinName);var success=function(data){var templateData=data.templateData,view=data.viewData,itemData=data.itemData,maxInfiniteCount=window.max_dynamic_links_count?parseInt(window.max_dynamic_links_count):!1,countReadAlso=0;if(itemData||!window.readMoreItemsLinks||insertedReadMore||(itemData=window.readMoreItemsLinks,insertedReadMore=!0),itemData&&!window.exclude_dynamic_links_only)for(var k in itemData)if(countReadAlso+=1,!(maxInfiniteCount&&countReadAlso>maxInfiniteCount)){var hh='<div class="read-this-also-wrap"><span class="read-this-also"> '+(window.website_readalso_string||"Also Read -")+" </span>"+(itemData[k].mediaUrl?'<a class="also-read-media-wrap" href="'+itemData[k].newsUrl+'?utm_source=internal-artice&utm_medium=also-read" aria-label="read-media"><img class="also-read-media" data-src="'+itemData[k].mediaUrl+'" alt="news-image" title="news-image"></a>':"")+'<a href="'+itemData[k].newsUrl+'?utm_source=internal-artice&utm_medium=also-read">'+itemData[k].title+"</a></div>";$("#"+k).removeClass("hide").html($(hh))}var infiniteScrollUrls=data.infiniteScrollUrls;if(infiniteScrollUrls&&infiniteScrollUrls.length){window.infiniteScrollUrls=window.infiniteScrollUrls||[];for(var i=0;i<infiniteScrollUrls.length;i++)window.infiniteScrollUrls.indexOf(infiniteScrollUrls[i])<0&&window.infiniteScrollUrls.push(infiniteScrollUrls[i])}var $e=$("#"+templateData.element_id);onInfiniteScrollData&&($e=onInfiniteScrollData.find("#"+dataTemplate.element_id));try{templateData.extra_css&&$e.addClass(templateData.extra_css),$e.removeClass("hide").html(view)}catch(e){}totalCount==count&&(0==ignoredBucket.length?executeBinding(totalCount,count,onInfiniteScrollData):loadMixinElement(ignoredBucket))},fail=function(){totalCount==count&&(0==ignoredBucket.length?executeBinding(totalCount,count,onInfiniteScrollData):loadMixinElement(ignoredBucket))};$e.attr("data-extra-param-heading")&&(newsTemplates[i].heading=$e.attr("data-extra-param-heading")),$e.attr("data-extra-param-link")&&(newsTemplates[i].link=$e.attr("data-extra-param-link"));var viewProps=[];for(var k in newsTemplates[i]){var heading=newsTemplates[i][k],encoded=encodeURIComponent(heading);viewProps.push(k+"="+encoded)}viewProps.push("partner="+partner);var filterDataElement=$("#filter-variable-data");filterDataElement.length&&(viewProps.push("group_id="+filterDataElement.data("id")),viewProps.push("group_content_type="+filterDataElement.data("content-type")));var filterDataElement=$("#filter-params-data");if(filterDataElement.length&&!$e.attr("data-extra-param-key")&&(viewProps.push("extra_param_key="+filterDataElement.data("key")),viewProps.push("extra_param_value="+filterDataElement.data("value"))),$e.attr("data-extra-param-key")&&(viewProps.push("extra_param_key="+$e.attr("data-extra-param-key")),viewProps.push("extra_param_value="+($e.attr("data-extra-param-value")||""))),filterDataElement.length&&!$e.attr("data-extra-param-keys")){var keys=filterDataElement.data("keys"),values=filterDataElement.data("values");if(keys&&values)for(var k=keys.split(","),v=values.split(","),j=0;j<k.length;j++)removeDuplicateKeyFromProps(viewProps,k[j]),newsTemplates[i][k[j]]=v[j],viewProps.push(k[j]+"="+v[j])}if($e.attr("data-extra-param-keys")){var keys=$e.attr("data-extra-param-keys"),values=$e.attr("data-extra-param-values");if(keys&&values)for(var k=keys.split(","),v=values.split(","),j=0;j<k.length;j++)removeDuplicateKeyFromProps(viewProps,k[j]),newsTemplates[i][k[j]]=v[j],viewProps.push(k[j]+"="+v[j])}viewProps=viewProps.join("&");var url="/xhr/getNewsMixin?"+viewProps;Hocalwire.Services.get(url).then(function(data){count++,success(data)},function(){count++,fail()})}}}function insertTemplateOnLoad(){if(setupScreenSizeVars(),!window.insertTemplateOnLoadTriggered){if(window.insertTemplateOnLoadTriggered=!0,window.windowLoadedDelay)setTimeout(function(){$("body").trigger("WINDOW_LOADED");var event=new CustomEvent("WINDOW_LOADED");document.dispatchEvent(event)},parseInt(window.windowLoadedDelay));else{$("body").trigger("WINDOW_LOADED");var event=new CustomEvent("WINDOW_LOADED");document.dispatchEvent(event)}try{for(var $el=$(".sb-search"),i=0;i<$el.length;i++){new UISearch($el[i])}}catch(e){}var templates=($("#content").attr("data-partner"),window.allScriptsTemplate),isDebug=Utils.getQueryParam("debug_mode");if("mixin"==isDebug||"refresh"==isDebug)for(var i=0;i<templates.length;i++)templates[i].debug_mode=isDebug;if(loadMixinElement(templates),window.scriptLoadDelayExternalScripts)setTimeout(function(){$("body").trigger("ALL_RESOURCE_HTML_LOADED");var event=new CustomEvent("ALL_RESOURCE_HTML_LOADED");document.dispatchEvent(event)},parseInt(window.scriptLoadDelayExternalScripts));else{$("body").trigger("ALL_RESOURCE_HTML_LOADED");var event=new CustomEvent("ALL_RESOURCE_HTML_LOADED");document.dispatchEvent(event)}}}function setForGDPRCookie(){if(window.show_gdpr_cookie&&$("#cookie-notice").length){var GDPRCookie=Hocalwire.Services.GlobalService.getCookie("HOCAL_GDPR_COOKIE");GDPRCookie||($("#cookie-notice").removeClass("hide"),$("#cookie-notice #accept-cookie").on("click",function(){$("#cookie-notice").addClass("hide"),Hocalwire.Services.GlobalService.setCookie("HOCAL_GDPR_COOKIE","true",{path:"/",expires:new Date((new Date).getTime()+31536e6)})}))}}function trackInfiniteScollItem($elem){if(!window.isSendingTrack&&(window.lastTracked=window.lastTracked||{},window.allTracked=window.allTracked||{},!$elem||$elem.attr("data-url")!=window.location.pathname)){if(window.allTracked[window.location.pathname]=!0,window.isSendingTrack=!0,sendNewsRead($elem.attr("data-newsid")),$elem.attr("data-title")&&(document.title=$elem.attr("data-title")),history.pushState("state",document.title,window.location.protocol+"//"+window.location.host+($elem.attr("data-url")+"?infinitescroll=1")),$("body").trigger("WINDOW_URL_CHANGE",{element:$elem}),window.allTracked[window.location.pathname]&&window.track_pageview_only_once_infinite)return void setTimeout(function(){window.isSendingTrack=!1},2e3);if(window.trackGA&&window.trackGA(!0),window.COMSCORECODE&&window.COMSCORE&&window.COMSCORE.beacon){var pageviewcandidate=function(id){var current_url="/pageview_candidate.html?id="+id;Hocalwire.Services.get(current_url).then(function(data){},function(){})},comscoreLocal=function(t){window.COMSCORE&&window.COMSCORE.beacon({c1:"2",c2:window.COMSCORECODE,cs_ucfr:"1"}),console.log("Sending Comscore"),pageviewcandidate(t)};comscoreLocal($elem.attr("data-newsid")||$elem.attr("data-url"))}setTimeout(function(){window.isSendingTrack=!1},2e3)}}function loadNextNewsItem(bottomElement,newsUrl,requestCount){if(!window.loadingNextItem){if(window.homepage_infinite_scroll||window.my_homepage_infinite_scroll||window.category_xhr_page){var item=$("div[data-url='"+newsUrl+"']");if(item.length)return}var currUrl="",State=History&&History.getState?History.getState():"",currUrl=State&&State.url?State.url:window.location.pathname;newsUrl=newsUrl||"";var url="/xhr/admin/getDynamicPageXHR";window.loadingNextItem=!0;var loaderHTML='<div class="next-page-loader"><h2>Loading</h2><span></span><span></span><span></span><span></span><span></span><span></span><span></span></div>';bottomElement.html(loaderHTML),window.isSubscribed&&(url=url.indexOf("?")>-1?url+"&isSubscribed="+!0:url+"?isSubscribed="+!0),window.homepage_infinite_scroll&&(url=url.indexOf("?")>-1?url+"&isHomePageScroll="+!0:url+"?isHomePageScroll="+!0),window.my_homepage_infinite_scroll&&(url=url.indexOf("?")>-1?url+"&isMyHomePageScroll="+!0:url+"?isMyHomePageScroll="+!0),window.category_xhr_page&&(url="/xhr"+newsUrl),$("#content .nextpage.divider:last").css("display","none"),Hocalwire.Services.post(url,{url:newsUrl,currUrl:currUrl,requestCount:requestCount}).then(function(data){setTimeout(function(){window.loadingNextItem=!1},1e3);var view=$(data.viewData||data);newsUrl=data.currUrl||newsUrl;
var viewSelector=(data.title||"",view.find("#details-page-infinite-scrolling-data").length?view.find("#details-page-infinite-scrolling-data"):[]);if(viewSelector.attr("data-item-length")&&"-1"==viewSelector.attr("data-item-length")&&viewSelector.find("#details-bottom-element-for-infinite-scroll").remove(),viewSelector.length){for(var internalScripts=view.find("script[override-script]"),i=0;i<view.length;i++){if("SCRIPT"==view[i].nodeName){view[i].attributes;$(view[i]).attr("override-script")&&viewSelector.push(view[i])}if("LINK"==view[i].nodeName){view[i].attributes;$(view[i]).attr("override-script")&&viewSelector.push(view[i])}}for(var i=0;i<internalScripts.length;i++)viewSelector.push(internalScripts[i]);bottomElement.replaceWith(viewSelector),$("#content .nextpage.divider").css("display","table"),$("#content .nextpage.divider:last").css("display","none"),viewSelector.attr("data-item-length")&&"-1"==viewSelector.attr("data-item-length")||viewSelector.find("#details-bottom-element-for-infinite-scroll").length||viewSelector.after($("<div id='details-bottom-element-for-infinite-scroll'></div>"));var templates=window.allScriptsTemplate,isDebug=Utils.getQueryParam("debug_mode");if("mixin"==isDebug||"refresh"==isDebug)for(var i=0;i<templates.length;i++)templates[i].debug_mode=isDebug;loadMixinElement(templates,viewSelector),window.homepage_infinite_scroll&&window.HComments&&window.HComments.init&&window.HComments.init(),window.my_homepage_infinite_scroll&&window.HComments&&window.HComments.init&&window.HComments.init(),window.category_xhr_page&&window.HComments&&window.HComments.init&&window.HComments.init(),$("body").trigger("INFINITE_ITEM_LOAD",{element:viewSelector})}},function(){setTimeout(function(){window.loadingNextItem=!1},1e3),console.log("Can not fetch Next News")})}}function getMoreNewsItemsForScroll(){var current=$("#infinite-section").attr("data-current-latest-page")||"1",latestNewsCategory=window.latestNewsCategory,url="/xhr/admin/get-category-news-list?count=10&startIndex="+10*parseInt(current)+"&categoryId="+latestNewsCategory;loadinggLatest||($("#infinite-section").attr("data-current-latest-page",parseInt(current)+1),loadinggLatest=!0,Hocalwire.Services.get(url).then(function(data){loadinggLatest=!1;for(var urls=data?data.split(","):[],i=0;i<urls.length;i++)window.infiniteScrollUrls.push(urls[i])},function(){loadinggLatest=!1}))}function getMoreNewsItemsForScrollFromMixin(){var current=$("#infinite-section").attr("data-current-latest-page")||"1",item=infiniteScrollMixin;item.startIndex=10*parseInt(current),item.xhrMixinRequest;var url="/xhr/admin/get-mixin-news-list";loadinggLatest||($("#infinite-section").attr("data-current-latest-page",parseInt(current)+1),loadinggLatest=!0,Hocalwire.Services.post(url,item).then(function(data){loadinggLatest=!1;for(var urls=data?data.split(","):[],i=0;i<urls.length;i++)window.infiniteScrollUrls.push(urls[i])},function(){loadinggLatest=!1}))}function doStuffForInfiniteScroll(){var requestCount=1;if(window.infiniteScroll||window.homepage_infinite_scroll||window.my_homepage_infinite_scroll&&infiniteScrollMixin){window.infiniteScrollUrls=window.infiniteScrollUrls||[],window.homepage_infinite_scroll&&(!window.infiniteScrollUrls||window.infiniteScrollUrls.length<2)&&getMoreNewsItemsForScroll(),infiniteScrollMixin&&window.my_homepage_infinite_scroll&&(!window.infiniteScrollUrls||window.infiniteScrollUrls.length<2)&&getMoreNewsItemsForScrollFromMixin();$("#CUSTOM_SCROLL_ITEM_FOR_INFINITE_SCOLL_DETECT").length&&$("#CUSTOM_SCROLL_ITEM_FOR_INFINITE_SCOLL_DETECT").attr("data-visible-on")&&$($("#CUSTOM_SCROLL_ITEM_FOR_INFINITE_SCOLL_DETECT").attr("data-visible-on")).is(":visible")?$("#CUSTOM_SCROLL_ITEM_FOR_INFINITE_SCOLL_DETECT"):$(".mdl-layout__content ").length?$(".mdl-layout__content "):$(window);$(window).on("scroll",function(){var result=Utils.isSelectorInView(".track-on-infinite-scroll-view");result&&trackInfiniteScollItem(result);var bottomElement=$("#details-bottom-element-for-infinite-scroll");if(bottomElement.length&&Utils.isInView(bottomElement,1e3,!0)){if(window.loadingNextItem)return;if(window.infiniteScrollUrls&&window.infiniteScrollUrls.length){var url=window.infiniteScrollUrls.splice(0,1);loadNextNewsItem(bottomElement,url[0],requestCount++)}window.homepage_infinite_scroll&&(!window.infiniteScrollUrls||window.infiniteScrollUrls.length<2)&&getMoreNewsItemsForScroll(),infiniteScrollMixin&&window.my_homepage_infinite_scroll&&(!window.infiniteScrollUrls||window.infiniteScrollUrls.length<2)&&getMoreNewsItemsForScrollFromMixin()}})}}function loadMixinOnTimeout(data,elem,timeValue,item){setTimeout(function(){elem.html(data),item.loaded=!0},timeValue)}function bindForLoadOnVisible(dataElement){var o=window.loadOnVisibleElements;for(var k in o){var item=o[k];if(!item.loaded)if(!item.mixinLoadOnTimeout||item.loaded||dataElement&&item.mainItem&&item.mainItem.no_load_on_infinite_scroll){var $el=getElement(dataElement?dataElement.find("#"+k):"#"+k)();if($el.length&&$el.hasClass("hide")&&$el.removeClass("hide"),Utils.isInView($el,200))if(item.type&&"CONTENT"==item.type)loadSingleMixinElement(item.mainItem,item);else try{$el.html(o[k].data),item.loaded=!0,delete o[k]}catch(ex){}}else{var $el=getElement(dataElement?dataElement.find("#"+k):"#"+k)();loadMixinOnTimeout(o[k].data,$el,item.mixinLoadOnTimeout,item)}}$(document).off("scroll.pagetemplate"),$(document).on("scroll.pagetemplate",function(event){for(var k in o){var item=o[k];if(!item.loaded)if(!item.mixinLoadOnTimeout||item.loaded||dataElement&&item.mainItem&&item.mainItem.no_load_on_infinite_scroll){var $el=getElement(dataElement?dataElement.find("#"+k):"#"+k)();if($el.length&&$el.hasClass("hide")&&$el.removeClass("hide"),Utils.isInView($el,200))if(o[k].type&&"CONTENT"==o[k].type)loadSingleMixinElement(o[k].mainItem,o[k]);else try{$el.html(o[k].data),item.loaded=!0,delete o[k]}catch(ex){}}else{var $el=getElement(dataElement?dataElement.find("#"+k):"#"+k)();loadMixinOnTimeout(o[k].data,$el,item.mixinLoadOnTimeout,item)}}})}function resetIframeSizes(data){for(var f=data?data.find("iframe"):$("iframe"),i=0;i<f.length;i++){var ff=$(f[i]),src=ff.attr("src");if(src&&(src=src.split("?")[0]),src&&src.indexOf("youtube.")>-1){var width=ff.width();if(ff.is(":visible")&&width&&width>0){var height=parseInt(width*(9/16));ff.attr("style","height:"+height+"px;")}else{var findParentWidth=function(element){return element.parent()&&element.parent().is(":visible")&&element.parent().width()?element.parent().width():findParentWidth(element.parent())};if(width=findParentWidth(ff),width&&width>0){var height=parseInt(width*(9/16));ff.attr("style","height:"+height+"px;")}}}}for(var f=data?data.find(".hocal-draggable iframe"):$(".hocal-draggable iframe"),i=0;i<f.length;i++){var ff=$(f[i]),src=ff.attr("src");if(src&&(src=src.split("?")[0]),!(src&&src.indexOf("youtube.")>-1)){var wGiven=ff.attr("width"),hGiven=ff.attr("height");if(wGiven!=parseInt(wGiven)||hGiven!=parseInt(hGiven))continue;var wActual=ff.width();if(!wGiven||!hGiven)continue;var hActual=parseInt(wActual/wGiven*hGiven);ff.attr("data-height-original",hGiven),ff.attr("height",hActual)}}}function getElement(el){return function(){return $(el)}}function initializeStickySides(onInfiniteScrollData){var isVisible=$("#hidden_element_for_width").is(":visible");if(isVisible){var hasStickyElements=onInfiniteScrollData?onInfiniteScrollData.find(".sticky_elements_scroll"):$(".sticky_elements_scroll");if(hasStickyElements.length>0){var scriptToLoad=["/scripts/theia-sticky-sidebar-final.js"],callback=function(){var timeout=$("#comments").length?5e3:1e3;setTimeout(function(){theiaLoaded=!0;for(var maxe,$es=onInfiniteScrollData?onInfiniteScrollData.find(".sticky_elements_scroll"):$(".sticky_elements_scroll"),max=0,i=0;i<$es.length;i++){var ee=getElement($es[i])().find(".theiaStickySidebar"),h=ee.height();h>max?(max=h,maxe=ee):h==max&&(maxe=!1)}try{if(1==$es.length)$es.theiaStickySidebar();else if(maxe)for(var i=0;i<$es.length;i++){var ee=getElement($es[i])();ee[0]!=maxe[0]?ee.theiaStickySidebar({updateSidebarHeight:!1}):ee.find(".theiaStickySidebar").removeClass("theiaStickySidebar")}else for(var i=0;i<$es.length;i++){var ee=getElement($es[i])();ee.theiaStickySidebar({updateSidebarHeight:!1})}}catch(e){}},timeout)};theiaLoaded?callback():Utils.loadScripts(scriptToLoad,{callback:callback})}}}function setupScreenSizeVars(){$("#hidden_element_for_desktop").is(":visible")?(Hocalwire.isDesktopSize=!0,Hocalwire.isTabletProSize=!1,Hocalwire.isTabletSize=!1,Hocalwire.isMobileSize=!1):$("#hidden_element_for_tablet_pro").is(":visible")?(Hocalwire.isDesktopSize=!1,Hocalwire.isTabletProSize=!0,Hocalwire.isTabletSize=!1,Hocalwire.isMobileSize=!1):$("#hidden_element_for_tablet").is(":visible")?(Hocalwire.isDesktopSize=!1,Hocalwire.isTabletProSize=!1,Hocalwire.isTabletSize=!0,Hocalwire.isMobileSize=!1):(Hocalwire.isDesktopSize=!1,Hocalwire.isTabletProSize=!1,Hocalwire.isTabletSize=!1,Hocalwire.isMobileSize=!0)}function disableCutCopyPaste(){window.disableCopyPaste&&($("body").bind("cut copy paste",function(e){e.preventDefault()}),$("body").on("contextmenu",function(e){return!1}))}function handleScrollTopVisible(){var offset=300,offset_opacity=1200,scroll_top_duration=1e3,$back_to_top=$(".cd-top");if($back_to_top.length){var elem=document.getElementsByClassName("cd-top")[0];elem&&elem.removeEventListener("click",window.scrollTopFn),$back_to_top.on("click",function(event){event.preventDefault(),$("body,html").animate({scrollTop:0},scroll_top_duration)}),$(window).scroll(function(){$(this).scrollTop()>offset?$back_to_top.addClass("cd-is-visible"):$back_to_top.removeClass("cd-is-visible cd-fade-out"),$(this).scrollTop()>offset_opacity&&$back_to_top.addClass("cd-fade-out")})}}function insertLinkInCopy(){if(window.insetLinkInCopy){var intValue=-1;try{intValue=parseInt(window.insetLinkInCopy)}catch(e){intValue=300}var intValueLoggedIn=parseInt(window.insetLinkInCopyLoggedIn||0);window.addLink=function(){if(!window.isCustomCopyHandler){var selection=window.getSelection(),pagelink='<br /><br /> <b><a href="'+document.location.href+'">'+document.location.href+" </a></b>",testLink="",copytext=selection+testLink;if(window.disableCopyPasteForUserWithSubscribeAlert){var message="1"!=window.disableCopyPasteForUserWithSubscribeAlert?window.disableCopyPasteForUserWithSubscribeAlert:"<div class='center alert-dialog-copy'><h3>Copy/Paste of stories is Disabled!!</h3><div class='text-bottom'>To enable this feature, please <a href='/pricing' class='login_button'>subscribe here </a>to premium plans</div></div>",style="<style>.modal_wrapper_frame .cross-btn {color:#fff;}.modal_wrapper_frame #modal-content{background: transparent;border: 0px;}@media screen and (min-width: 767px) {.modal_wrapper_frame #modal-content{bottom:30%;top:30%;}} @media screen and (max-width: 767px) {.modal_wrapper_frame #modal-content{bottom:20%;top:20%;}}.alert-dialog-copy h3{padding: 25px 15px;background: #555;font-size: 25px;color: white;margin-bottom:0px;}.alert-dialog-copy .text-bottom{padding: 15px;background-color: #ccc;color: black;font-size: 17px;}</style>";if(!window.isSubscribed&&copytext.length>intValue){Utils.showModalForView();var $modalContent=$(".modal_wrapper_frame .view-content");$modalContent.html(message+style)}}if(window.customCopyPasteMessage&&(pagelink=window.customCopyPasteMessage+pagelink),window.isSubscribed){if(!(copytext.length>intValue))return;if(!intValueLoggedIn)return;copytext=copytext.substring(0,intValueLoggedIn),copytext+=pagelink}else intValue>-1?copytext=copytext.substring(0,intValue)+pagelink:copytext+=pagelink;if(window.insertPublishRightsMessage){var extmsg="<br />"+window.insertPublishRightsMessage+', contact <b><a href="http://hocalwire.com/contact-us">http://hocalwire.com/</a></b>';copytext+=extmsg}var newdiv=document.createElement("div");newdiv.style.position="absolute",newdiv.style.left="-99999px",document.body.appendChild(newdiv),newdiv.innerHTML=copytext,selection.selectAllChildren(newdiv),window.setTimeout(function(){document.body.removeChild(newdiv)},100)}},document.addEventListener("copy",window.addLink)}}function enableSearchAutocomplete(){var requesting=0,autoCompleteElement=$(".auto-complete-element");if(autoCompleteElement.length){autoCompleteElement.on("focus",function(){"Search"==$(this).val()&&$(this).val("")});var initAutoComplete=function(e){if(!e.attr("is-initialized")){var posturl=(e.data("type"),e.data("post-url"));e.autoComplete({minChars:1,cache:0,source:function(term,response){requesting&&clearTimeout(requesting),requesting=setTimeout(function(){var postData={search:term};$.support.cors=!0,$.ajax({type:"POST",url:posturl,data:postData,success:function(data){data&&data.length||(data=[],data.push({title:"No data matching request",url:"/"})),response(data)},error:function(){}})},500)},renderItem:function(item,search){search=search.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&");new RegExp("("+search.split(" ").join("|")+")","gi");return'<div class="autocomplete-suggestion" data-type="'+item.type+'" data-name="'+item.title+'" data-id="'+item.id+'" data-url="'+item.url+'" data-val="'+search+'">'+item.title+"</div>"},onSelect:function(e,term,item){window.autoCompleteClicked=!0,e.stopPropagation();var $e=$(item),url=$e.data("url");url&&(window.location.href=url)}}),e.attr("is-initialized","1")}},getAutocompleteElement=function(el){var getElement=function(){return $(el)};return getElement},loadedAutocomplete=!1,loadJSnInit=function(){if(loadedAutocomplete)for(var i=0;i<autoCompleteElement.length;i++){var f=getAutocompleteElement(autoCompleteElement[i]);initAutoComplete(f())}else{var head=document.getElementsByTagName("head")[0],s=document.createElement("script");s.type="text/javascript",s.src="/scripts/autocomplete.js",s.defer=!0,s.addEventListener("load",function(e){for(var i=0;i<autoCompleteElement.length;i++){var f=getAutocompleteElement(autoCompleteElement[i]);initAutoComplete(f())}},!1),head.appendChild(s)}loadedAutocomplete=!0};$(".load-autocomplete-on-click").on("click",function(){loadJSnInit()}),$(".load-autocomplete-on-present").length&&loadJSnInit()}}function initTransliterationOnSearch(){if(window.enableTransliteration){window.HocalwireTranslitration=window.HocalwireTranslitration||{};for(var lang=window.enableTransliteration,selector=".use-google-translate",ids=[],items=$(selector),i=0;i<items.length;i++){var $this=$(items[i]);$this.attr("id")&&ids.push($this.attr("id"))}window.HocalwireTranslitration[selector]=function(){var options={sourceLanguage:google.elements.transliteration.LanguageCode.ENGLISH,destinationLanguage:[lang],shortcutKey:"ctrl+g",transliterationEnabled:!0},control=new google.elements.transliteration.TransliterationControl(options),arr=ids;control.makeTransliteratable(arr)};var loadedTransliteration=!1;$(".load-google-translate-on-click").on("click",function(){if(!loadedTransliteration){var head=document.getElementsByTagName("head")[0],s=document.createElement("script");s.type="text/javascript",s.src="/scripts/transliteration.js",s.defer=!0,s.addEventListener("load",function(e){google.load("elements","1",{callback:window.HocalwireTranslitration[selector],packages:"transliteration"})},!1),head.appendChild(s)}loadedTransliteration=!0})}}function validateEmail(email){var re=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return re.test(email)}function subscribeForMailUpdates(){var $form,btn=$("#subscribe_to_mail_btn_wrap");btn&&btn.length&&btn.on("click",function(){$form=$("#subscribe_to_mail"),sendPost($form,btn)}),$("body").on("click",".subscribe_to_mail_btn_wrap_popup",function(){var $form=$(this).closest("#poopup_subscribe_to_mail");$form.length||($form=$("#poopup_subscribe_to_mail")),sendPost($form)}),!btn.length&&$(".subscribe_to_mail_btn_wrap").length>0&&$("body").on("click",".subscribe_to_mail_btn_wrap",function(){var $form=$(this).closest("#subscribe_to_mail");$form.length||($form=$(this).parent().find("#subscribe_to_mail",$this)),sendPost($form)});var sendPost=function($form,btn){var error_el=$form.closest("#subscribe-error");error_el.length||(error_el=$form.parent().find("#subscribe-error")),error_el.length||(error_el=$("#subscribe-error")),error_el.length||(error_el=$("#subscribe-message"));var emailInput=$form.find("input[name=email]");if(!emailInput.length||!emailInput.val()){var oldM=error_el.html();return error_el.removeClass("hide").html("Enter Valid Email Id"),void setTimeout(function(){error_el.addClass("hide").html(oldM)},3e3)}oldM&&error_el&&error_el.html(oldM);var valid=validateEmail(emailInput.val());if(!valid)return error_el.removeClass("hide").html("Invalid email. Input correct email"),void setTimeout(function(){error_el.addClass("hide").html("")},3e3);var url="/xhr/admin/login/subscribe-for-updates",options={contentType:"application/x-www-form-urlencoded; charset=utf-8"};btn&&btn.hide(),Utils.showLoader(5e3);var obj=$form.serialize();if(!obj){var val=$form.find("input").val();val&&(obj={email:val})}Hocalwire.Services.post(url,obj,options).then(function(data){return Utils.hideLoader(),"object"!=typeof data?(Utils.hideLoader(),void error_el.removeClass("hide").html("Unable to subscribe. Please try again later.")):($("body").trigger("email_subscribed",{email:emailInput.val(),form:$form,errorCode:data.errorCode}),void(0!=data.errorCode&&data.errorCode?(btn.show(),"-5"==data.errorCode?error_el.removeClass("hide").html("Invalid Email, Unable to subscribe. Please try again later."):error_el.removeClass("hide").html("Unable to subscribe. Please try again later."),$("#subscribe-message-error").removeClass("hide")):($form.attr("data-target-hide-on-success")&&$($form.attr("data-target-hide-on-success")).hide(),$form.hasClass("hide-on-success")&&$form.hide(),emailInput.hide(),error_el.hasClass("has-message")?error_el.removeClass("hide"):error_el.removeClass("hide").html("Subscribed Successfully..."),$("#subscribe-message").removeClass("hide"))))},function(e){Utils.hideLoader(),$("#subscribe-error").removeClass("hide").html("Unable to subscribe. Please try again later.")})}}function sendEmailBind(){$("body").on("click",".js-share-article-by-email",function(){var $e=$(this),url=$e.data("url");$e.data("url-temp")&&(url=$e.data("url-temp"));var domain=$e.data("domain");0==url.indexOf(domain)&&(url=url.substring(url.indexOf(domain)+domain.length,url.length));var finalUrl=domain+"/share/send-article-by-email?url="+url,height=500,width=800;Hocalwire.isTabletSize?(height=400,width=600):Hocalwire.isMobileSize&&(height=300,width=300),url&&window.open(finalUrl,"Share By Email","height="+height+",width="+width)}),$("body").on("click",".js-share-article-by-email-direct",function(){var $e=$(this),url=$e.data("url"),title=$e.data("title"),hrefUrl="mailto:?subject="+encodeURIComponent(window.getTranslationValue("Check this out")+" - "+title)+"&body="+encodeURIComponent(title+"   "+url);window.open(hrefUrl,"Share By Email")}),$("body").on("click",".js-print-current-story",function(){var $e=$(this),selector=$e.data("selector");selector&&$(selector).length&&$(selector).print?$(selector).print():(selector=$e.data("closest-selector"),selector&&$e.closest(selector).length&&$e.closest(selector).print&&$e.closest(selector).print())})}function sendLogout(){var url=window.Constants.url.xhrLogout?window.Constants.url.xhrLogout:"/xhr/admin/logout",options={contentType:"application/x-www-form-urlencoded; charset=utf-8"};Hocalwire.Services.post(url,{},options).then(function(data){Utils.hideLoader();var random=parseInt(1e6*Math.random()),urlPrefix="from-logout="+random;data=data||{},data.redirectURL=data.redirectURL||"/",data.redirectURL&&(data.redirectURL.indexOf("?")>-1?data.redirectURL=data.redirectURL+"&"+urlPrefix:data.redirectURL=data.redirectURL+"?"+urlPrefix),data.redirectURL?window.location=data.redirectURL:window.location="/"},function(e){alert("could not logout")})}function setupTooltip(){var annotation=$(".annotation-tooltip-parent");if(annotation.length){for(var id=(new Date).getTime(),i=0;i<annotation.length;i++)$(annotation[i]).attr("id","rand-"+id+(i+1));if($("body").on("click","annotation .tooltip-popup-wrap .tooltip-popup-close",function(){$(this).closest(".tooltip-popup-wrap").remove()}),$("body").on("click.close",".tooltip-popup-wrap .tooltip-popup-close",function(){$(this).closest(".tooltip-popup-wrap").removeClass("open")}),$(".tooltip-wall").length&&$(".tooltip-wall").is(":visible")&&window.Hocalwire.isDesktopSize){var lastScrollTop=0,isScrollUp=!1;$(window).on("scroll.tooltip",function(){var st=window.pageYOffset||document.documentElement.scrollTop;isScrollUp=st>lastScrollTop?!1:!0,lastScrollTop=0>=st?0:st;for(var tooltipInView=!1,i=0;i<annotation.length;i++){var e=getElement($(annotation[i]))();if(Utils.isElementPartiallyInViewport(e)){var pp=e;if($(".tooltip-wall").find("#pop-"+pp.attr("id")).length){var top=e.offset().top,scrollTop=$(window).scrollTop(),finalOffset=top-scrollTop;finalOffset>0&&$(".tooltip-wall").find("#pop-"+pp.attr("id")).css("top",finalOffset-40+"px")}else{var d=getTooltipBox(!0,pp,"pop-"+pp.attr("id")),top=e.offset().top,scrollTop=$(window).scrollTop(),finalOffset=top-scrollTop,eeee=$(d);finalOffset>0&&eeee.css("top",finalOffset-40+"px"),isScrollUp?$(".tooltip-wall").prepend(eeee):$(".tooltip-wall").append(eeee)}tooltipInView=!0}else{var pp=e;$(".tooltip-wall").find("#pop-"+pp.attr("id"))&&$(".tooltip-wall").find("#pop-"+pp.attr("id")).remove()}}tooltipInView?($(".tooltip-wall").show(),$(".tooltip-wall").addClass("make-it-visible")):($(".tooltip-wall").hide(),$(".tooltip-wall").removeClass("make-it-visible"))})}$("body").on("click",".annotation-tooltip-parent sup",function(){var pp=$(this).parent(),pop=pp.find(".tooltip-popup-wrap"),inlineInsert=!1;if(!pop.length){inlineInsert=!0;var d=getTooltipBox(!1,pp);pp.find(".tooltip-popup-wrap").length&&pp.find(".tooltip-popup-wrap").remove(),$(d).insertAfter($(this))}if(pop=pp.find(".tooltip-popup-wrap"),pop.length){var ol=$(this).offset().left,w=pop.width();if(w||pop.attr("style","display:block"),pop.hasClass("open"))return void pop.removeClass("open");pop.addClass("open"),$(".tooltip-wall").hide();var storyOffset=$(".details-content-story").offset().left,sidePadding=0;if(window.screen.width<600&&(sidePadding=window.tooltipMobileSidePadding||15),inlineInsert){var bw=$(".details-content-story").width(),f=0;f=ol>w?bw>ol+w/2?parseInt(ol-w/2):parseInt(ol-w):20;var final=ol-storyOffset;pop.attr("style","left:"+f+"px;")}else{var final=ol-storyOffset;final>w&&(final=w),pop.attr("style","margin-left:-"+(final-4+sidePadding)+"px;")}}});var getTooltipBox=function(onWall,element,id){var p="";if(onWall){p='<div id="'+id+'" class="tooltip-wall-wrap"><div class="tooltip-popup-header"><span class="tooltip-popup-title">@@TITLE@@</span><span class="tooltip-popup-close">x</span></div><div class="tooltip-popup-content">@@CONTENT@@</div></div>';var t=element.attr("title");t||(t=element.find(".tooltip-popup-title").html());var content=element.attr("data-content");content||(content=element.find(".tooltip-popup-content").html()),t&&"null"!=t&&"undefined"!=t||(t=""),p=p.replace("@@TITLE@@",t),p=p.replace("@@CONTENT@@",content)}else{p='<div class="tooltip-popup-wrap"><div class="tooltip-popup-header"><span class="tooltip-popup-title">@@TITLE@@</span><span class="tooltip-popup-close">x</span></div><div class="tooltip-popup-content">@@CONTENT@@</div></div>';var t=element.attr("title");t&&"null"!=t&&"undefined"!=t||(t="");var content=element.attr("data-content");p=p.replace("@@TITLE@@",t),p=p.replace("@@CONTENT@@",content)}return p}}}function hideForPayTM(data){var userAgent=window.navigator&&window.navigator.userAgent?window.navigator.userAgent:"",isPaytm=userAgent.indexOf("AppContainer")>-1;isPaytm||(isPaytm=Utils.getParameterByName("fromPayTMApp")),isPaytm&&(data||$("body").addClass("from-paytm-app"),data?data.find(".social-share-wrap").addClass("hide"):$(".social-share-wrap").addClass("hide"),data?data.find(".addthis_inline_share_toolbox,.at-share-dock-outer").addClass("hide"):$(".addthis_inline_share_toolbox,.at-share-dock-outer").addClass("hide"),data?data.find(".social-share-light").addClass("hide"):$(".social-share-light").addClass("hide"),data?data.find(".hide-for-paytm").addClass("hide"):$(".hide-for-paytm").addClass("hide"),data?data.find("#comments").addClass("hide"):$("#comments").addClass("hide"))}function setupUserStateButtons(){$("body").on("change","#slider",function(){var val=$(this).val(),lineValue=parseInt($(this).val())+3,parentid=$(this).attr("data-parentid"),style=".details-content-story span,.details-content-story h4,.details-content-story h5,.details-content-story h2,.details-content-story h3,.details-content-story p,.details-content-story div,.details-content-story ul,.details-content-story ul li,.details-content-story blockquote,.details-content-story ul li a{font-size:"+val+"px !important;}";parentid&&(style="#"+parentid+" .details-content-story span,#"+parentid+" .details-content-story h4,#"+parentid+" .details-content-story h5,#"+parentid+" .details-content-story h2,#"+parentid+" .details-content-story h3,#"+parentid+" .details-content-story p,#"+parentid+" .details-content-story div,#"+parentid+" .details-content-story ul,#"+parentid+" .details-content-story ul li,#"+parentid+" .details-content-story blockquote,#"+parentid+" .details-content-story ul li a,#"+parentid+" h2{font-size:"+val+"px !important; line-height:"+lineValue+"px !important;}");var fontStyle=$("#custom-font-size");parentid&&(fontStyle=$("#custom-font-size-"+parentid)),$("body").attr("data-font-value",val),fontStyle&&fontStyle.length||(fontStyle=$("<style id='custom-font-size'></style>"),$("body").append(fontStyle)),fontStyle.html(style)}),$("body").on("click",".in-image-ad-wrap .close-btn-in-img",function(){$(this).closest(".in-image-ad-wrap").addClass("hide")}),$(".roadblocker-ad-content-wrap .close-btn-popup").on("click",function(){$(".roadblocker-ad-content-wrap").addClass("hide")}),$(".popup-ad-content-wrap .popup-overlay-bg").on("click",function(){$(".popup-ad-content-wrap").addClass("hide")}),$(".popup-ad-content-wrap .close-btn-popup").on("click",function(){$(".popup-ad-content-wrap").addClass("hide")}),$(".js-logout-button").on("click",function(){sendLogout(),Utils.showLoader(5e3)}),$(".float-nav").click(function(){$(".main-nav, .menu-btn").toggleClass("active")})}window.insertLoadTriggered=!1,window.loadOnVisibleElements={};var scrolledOnce=!1,scrolledDistance=200,ignoredBucket=[],ignoredBucketProcessed=[],lazyMixinLoad=[],refreshMixin=[],infiniteScrollMixin=!1,lazyHtmlLoad=[],s="";s+='<div class="amp-flying-carpet-wrapper">',s+='  <div class="amp-fx-flying-carpet">',s+='    <div class="amp-fx-flying-carpet-clip">',s+='      <div class="amp-fx-flying-carpet-container">',s+='        <div class="dfp-ad">',s+='          <div class="dfp-ad-container">',s+="@@@ADD_DATA@@@",s+="          </div>",s+="        </div>",s+="      </div>",s+="    </div>",s+="  </div>",s+="</div>";var flyingCarpetAdWrap=s;addGAEvents(),window.insertInfiniteDFPAdd=function(id,slot,defineSlotFn,ignoreInitialIdChange){var code;code=ignoreInitialIdChange&&!window.FRAMEWORK_LOAD_COMPLETE||window.ignoreInitialDFPIdChange?"<script>(function() {googletag.cmd.push(function() {var adslot = googletag."+(defineSlotFn||"defineSlot")+'(@@SLOT@@, "@@ID@@").addService(googletag.pubads());googletag.display("@@ID@@");googletag.pubads().refresh([adslot]);});})();</script>':'<script>(function() {var number = window.number || 0;  number = number+1;window.number = number;var l = $("#@@ID@@");if(l && l.length){    l.attr("id","@@ID@@-"+number);}googletag.cmd.push(function() {var adslot = googletag.'+(defineSlotFn||"defineSlot")+'(@@SLOT@@, "@@ID@@-"+number).addService(googletag.pubads());googletag.display("@@ID@@-"+number);googletag.pubads().refresh([adslot]);});})();</script>',code=code.split("@@ID@@").join(id).replace("@@SLOT@@",slot),id&&""!=id?$("#"+id).append($(code)):$("body").append($(code))};var ytPlayers={},imageErrorHandlerInitialized=!1,ignoredBucketProcessedCounter=0,loadingForSingleItem=!1,insertedReadMore=!1;window.insertTemplateOnLoadTriggered=!1;var loadinggLatest=!1;window.loadThemeV3?window.themeLazyResourceLoaded?(window.insertLoadTriggered=!0,insertTemplateOnLoad()):document.addEventListener("THEME_LAZY_RESOURCES_LOADED",function(){window.insertLoadTriggered=!0,insertTemplateOnLoad()}):window.load_theme_resource_after_pageLoad?window.themeLazyResourceLoaded?(window.insertLoadTriggered=!0,insertTemplateOnLoad()):window.addEventListener?window.addEventListener("THEME_LAZY_RESOURCES_LOADED",function(){window.insertLoadTriggered=!0,insertTemplateOnLoad()}):window.attachEvent("THEME_LAZY_RESOURCES_LOADED",function(){window.insertLoadTriggered=!0,insertTemplateOnLoad()}):window.addEventListener?window.addEventListener("load",function(){window.insertLoadTriggered=!0,insertTemplateOnLoad()}):window.attachEvent("load",function(){window.insertLoadTriggered=!0,insertTemplateOnLoad()}),window.triggerInsertLoad=function(){window.insertLoadTriggered=!0,insertTemplateOnLoad()};var theiaLoaded=!1}();